OBJECT=MUSIC
MUSIC:TYPE=MUSIC
MUSIC:FILENAME=INTRO.WAV

OBJECT=ANNHANDS
ANNHANDS:TYPE=ANIMO
ANNHANDS:VISIBLE=TRUE
ANNHANDS:FILENAME=RECE.ANN
ANNHANDS:TOCANVAS=TRUE
ANNHANDS:PRIORITY=0
ANNHANDS:FPS=16
ANNHANDS:PRELOAD=TRUE
ANNHANDS:RELEASE=TRUE
ANNHANDS:MONITORCOLLISION=FALSE
ANNHANDS:MONITORCOLLISIONALPHA=FALSE
ANNHANDS:ONFINISHED^1={ANNHANDS^PLAY("2");SNDREDBONE^PLAY();}

OBJECT=ANNBONE
ANNBONE:TYPE=ANIMO
ANNBONE:VISIBLE=TRUE
ANNBONE:FILENAME=KOSC.ANN
ANNBONE:TOCANVAS=TRUE
ANNBONE:PRIORITY=0
ANNBONE:FPS=16
ANNBONE:PRELOAD=TRUE
ANNBONE:RELEASE=TRUE
ANNBONE:MONITORCOLLISION=FALSE
ANNBONE:MONITORCOLLISIONALPHA=FALSE

OBJECT=STL9
STL9:TYPE=ANIMO
STL9:VISIBLE=TRUE
STL9:FILENAME=$COMMON\STL9.ANN
STL9:TOCANVAS=TRUE
STL9:PRIORITY=0
STL9:FPS=16
STL9:PRELOAD=TRUE
STL9:RELEASE=TRUE
STL9:MONITORCOLLISION=FALSE
STL9:MONITORCOLLISIONALPHA=FALSE
STL9:ONFRAMECHANGED^ELAPSE={VARITIMER^INC();}

OBJECT=VARITIMER
VARITIMER:TYPE=INTEGER
VARITIMER:VALUE=0
VARITIMER:ONCHANGED^150={@IF("SNDONRED^ISPLAYING()'TRUE||SNDONBLUE^ISPLAYING()'TRUE||SNDCLICKEDRED^ISPLAYING()'TRUE","","{SNDNOCHOICE^PLAY();}");VARITIMER^SET(0);}

OBJECT=BTNBONE
BTNBONE:TYPE=BUTTON
BTNBONE:VISIBLE=TRUE
BTNBONE:ENABLE=TRUE
BTNBONE:DRAGGABLE=FALSE
BTNBONE:GFXSTANDARD=ANNBONE
BTNBONE:ONFOCUSON={SNDNOCHOICE^STOP(FALSE);SNDONBLUE^STOP(FALSE);@IF("SNDONRED^ISPLAYING()'FALSE&&SNDCLICKEDRED^ISPLAYING()'FALSE","BFITMP0","");}
BTNBONE:ONCLICKED={BTNBONE^DISABLEBUTVISIBLE();BTNFORGOT^DISABLEBUTVISIBLE();SNDNOCHOICE^STOP(FALSE);SNDBLUEBONE^STOP(FALSE);SNDREDBONE^STOP(FALSE);SNDONRED^STOP(FALSE);SNDONBLUE^STOP(FALSE);SNDCLICKEDRED^PLAY();}

OBJECT=BTNFORGOT
BTNFORGOT:TYPE=BUTTON
BTNFORGOT:VISIBLE=TRUE
BTNFORGOT:RECT=427,231,661,403
BTNFORGOT:ENABLE=TRUE
BTNFORGOT:DRAGGABLE=FALSE
BTNFORGOT:ONFOCUSON={SNDNOCHOICE^STOP(FALSE);SNDONRED^STOP(FALSE);@IF("SNDONBLUE^ISPLAYING()'FALSE&&SNDCLICKEDRED^ISPLAYING()'FALSE","BFITMP1","");}

OBJECT=SNDMAKECHOICE
SNDMAKECHOICE:TYPE=SOUND
SNDMAKECHOICE:FILENAME=BUREKTOR_M042.WAV
SNDMAKECHOICE:PRELOAD=FALSE
SNDMAKECHOICE:FLUSHAFTERPLAYED=FALSE
SNDMAKECHOICE:ONFINISHED={ANNHANDS^PLAY("1");}

OBJECT=SNDREDBONE
SNDREDBONE:TYPE=SOUND
SNDREDBONE:FILENAME=BUREKTOR_M044.WAV
SNDREDBONE:PRELOAD=FALSE
SNDREDBONE:FLUSHAFTERPLAYED=FALSE
SNDREDBONE:ONFINISHED={ANNHANDS^PLAY("3");SNDBLUEBONE^PLAY();}

OBJECT=SNDBLUEBONE
SNDBLUEBONE:TYPE=SOUND
SNDBLUEBONE:FILENAME=BUREKTOR_M043.WAV
SNDBLUEBONE:PRELOAD=FALSE
SNDBLUEBONE:FLUSHAFTERPLAYED=FALSE
SNDBLUEBONE:ONFINISHED={SNDDECISION^PLAY();}

OBJECT=SNDDECISION
SNDDECISION:TYPE=SOUND
SNDDECISION:FILENAME=BUREKTOR_M045.WAV
SNDDECISION:PRELOAD=FALSE
SNDDECISION:FLUSHAFTERPLAYED=FALSE
SNDDECISION:ONFINISHED={BTNBONE^ENABLE();BTNFORGOT^ENABLE();STL9^PLAY("ELAPSE");}

OBJECT=SNDONRED
SNDONRED:TYPE=SOUND
SNDONRED:FILENAME=BUREKTOR_M046.WAV
SNDONRED:PRELOAD=FALSE
SNDONRED:FLUSHAFTERPLAYED=FALSE
SNDONRED:ONFINISHED={VARITIMER^SET(0);}

OBJECT=SNDONBLUE
SNDONBLUE:TYPE=SOUND
SNDONBLUE:FILENAME=BUREKTOR_M047.WAV
SNDONBLUE:PRELOAD=FALSE
SNDONBLUE:FLUSHAFTERPLAYED=FALSE
SNDONBLUE:ONFINISHED={VARITIMER^SET(0);}

OBJECT=SNDCLICKEDRED
SNDCLICKEDRED:TYPE=SOUND
SNDCLICKEDRED:FILENAME=BUREKTOR_M049.WAV
SNDCLICKEDRED:PRELOAD=FALSE
SNDCLICKEDRED:FLUSHAFTERPLAYED=FALSE
SNDCLICKEDRED:ONFINISHED={PRZYGODA^GOTO("DIALOGS");}

OBJECT=SNDNOCHOICE
SNDNOCHOICE:TYPE=SOUND
SNDNOCHOICE:FILENAME=BUREKTOR_M048.WAV
SNDNOCHOICE:PRELOAD=FALSE
SNDNOCHOICE:FLUSHAFTERPLAYED=FALSE
SNDNOCHOICE:ONFINISHED={VARITIMER^SET(0);}

OBJECT=MOUSE
MOUSE:TYPE=MOUSE
MOUSE:RAW=
MOUSE:ONMOVE={VARITIMER^SET(0);}

OBJECT=CNVLOADER
CNVLOADER:TYPE=CNVLOADER

OBJECT=CANVASOBSERVER
CANVASOBSERVER:TYPE=CANVAS_OBSERVER

OBJECT=KEYBOARD
KEYBOARD:TYPE=KEYBOARD

OBJECT=__INIT__
__INIT__:TYPE=BEHAVIOUR
__INIT__:CODE={__FLIP__^RUN();G_MENU^SETSCENE("CHOICE");G_MENU^SAVESETS();G_MENU^SHOW(FALSE);G_CURSOR^SETSCENE("CHOICE");G_ANNPAGE^PLAY("PLAY");BTNBONE^DISABLE();BTNFORGOT^DISABLE();SNDMAKECHOICE^PLAY();G_AMBIENT^SETAMBIENT("CHOICE");CHOICE^STARTMUSIC("INTRO.WAV");CHOICE^SETMUSICVOLUME(G_ARRSETTINGS^GET(1));}


OBJECT=_CURSORMOVE_
_CURSORMOVE_:TYPE=BEHAVIOUR
_CURSORMOVE_:CODE={G_CURSOR^SETOBJECT(CANVASOBSERVER^GETGRAPHICSAT(MOUSE^GETPOSX(),MOUSE^GETPOSY(),TRUE,0,5000,TRUE));}


OBJECT=__PAUSESTART__
__PAUSESTART__:TYPE=BEHAVIOUR
__PAUSESTART__:CODE={SCENENAME^SET(PRZYGODA^GETCURRENTSCENE());MOUSE^DISABLESIGNAL();__KEYB__^SET(KEYBOARD^ISENABLED());KEYBOARD^DISABLE();__HSPOTMAX__^SET(*SCENENAME^GETMAXHSPRIORITY());__HSPOTMIN__^SET(*SCENENAME^GETMINHSPRIORITY());*SCENENAME^GETPLAYINGANIMO("__GRHELP__");}


OBJECT=__PAUSEEND__
__PAUSEEND__:TYPE=BEHAVIOUR
__PAUSEEND__:CODE={MOUSE^ENABLESIGNAL();@IF("__KEYB__","_","TRUE","BFITMP2","BFITMP3");CHOICE^SETMUSICVOLUME(G_ARRSETTINGS^GET(1));__GRHELP__^REMOVEALL();}


OBJECT=__HELPSTART__
__HELPSTART__:TYPE=BEHAVIOUR
__HELPSTART__:CODE={SCENENAME^SET(PRZYGODA^GETCURRENTSCENE());MOUSE^DISABLESIGNAL();__KEYB__^SET(KEYBOARD^ISENABLED());KEYBOARD^DISABLE();__HSPOTMAX__^SET(*SCENENAME^GETMAXHSPRIORITY());__HSPOTMIN__^SET(*SCENENAME^GETMINHSPRIORITY());*SCENENAME^GETPLAYINGANIMO("__GRHELP__");CNVLOADER^LOAD([G_SCUTSCENE+".CNV"]);}


OBJECT=__HELPEND__
__HELPEND__:TYPE=BEHAVIOUR
__HELPEND__:CODE={MOUSE^ENABLESIGNAL();@IF("__KEYB__","_","TRUE","BFITMP4","BFITMP5");CNVLOADER^RELEASE([G_SCUTSCENE+".CNV"]);}


OBJECT=BFITMP0
BFITMP0:TYPE=BEHAVIOUR
BFITMP0:CODE={SNDONRED^PLAY();}


OBJECT=BFITMP1
BFITMP1:TYPE=BEHAVIOUR
BFITMP1:CODE={SNDONBLUE^PLAY();}


OBJECT=BFITMP2
BFITMP2:TYPE=BEHAVIOUR
BFITMP2:CODE={KEYBOARD^ENABLE();}


OBJECT=BFITMP3
BFITMP3:TYPE=BEHAVIOUR
BFITMP3:CODE={KEYBOARD^DISABLE();}


OBJECT=BFITMP4
BFITMP4:TYPE=BEHAVIOUR
BFITMP4:CODE={KEYBOARD^ENABLE();}


OBJECT=BFITMP5
BFITMP5:TYPE=BEHAVIOUR
BFITMP5:CODE={KEYBOARD^DISABLE();}


