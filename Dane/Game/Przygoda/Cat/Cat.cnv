OBJECT=MUSIC
MUSIC:TYPE=MUSIC
MUSIC:FILENAME=BAJKI.WAV

OBJECT=VARSAVENAME
VARSAVENAME:TYPE=STRING

OBJECT=VARULMASK
VARULMASK:TYPE=STRING
VARULMASK:ONBRUTALCHANGED^IMGULMASK={@IF(ANNUL^GETEVENTNAME(),"_",""PLAY"","BFITMP3","BFITMP4");}

OBJECT=VARCOLLISION
VARCOLLISION:TYPE=STRING
VARCOLLISION:ONBRUTALCHANGED^ANNBUTY={ANNBUTY^HIDE();BEHBOOTS^RUN();}
VARCOLLISION:ONBRUTALCHANGED^ANNJAGA={__SCREENSHOT__^RUN();G_SLASTOBJECTS^SET("CAT");G_SARCADEOBJECTS^SET("JAGA");PRZYGODA^GOTO("ARCADE");}

OBJECT=VARDESTX
VARDESTX:TYPE=INTEGER

OBJECT=VARDESTY
VARDESTY:TYPE=INTEGER

OBJECT=VARINT0
VARINT0:TYPE=INTEGER

OBJECT=VARINT1
VARINT1:TYPE=INTEGER

OBJECT=VARINT3
VARINT3:TYPE=DOUBLE

OBJECT=VARINT4
VARINT4:TYPE=INTEGER

OBJECT=VARFORCEX
VARFORCEX:TYPE=DOUBLE

OBJECT=VARFORCEY
VARFORCEY:TYPE=DOUBLE

OBJECT=VARCATFORCEX
VARCATFORCEX:TYPE=DOUBLE

OBJECT=VARCATFORCEY
VARCATFORCEY:TYPE=DOUBLE

OBJECT=VARDOUBLE0
VARDOUBLE0:TYPE=DOUBLE

OBJECT=VARPLAYERNAME
VARPLAYERNAME:TYPE=STRING

OBJECT=VARPLAYERID
VARPLAYERID:TYPE=INTEGER

OBJECT=VARSTRING0
VARSTRING0:TYPE=STRING

OBJECT=VARSTRING1
VARSTRING1:TYPE=STRING

OBJECT=VARPLAYER
VARPLAYER:TYPE=STRING
VARPLAYER:ONCHANGED^ANNREX={@IF("VARPLAYERNAME","!_",""ANNREX"","BFITMP5","");}
VARPLAYER:ONCHANGED^ANNKRET={@IF("VARPLAYERNAME","!_",""ANNKRET"","BFITMP6","");@BREAK();}
VARPLAYER:ONCHANGED^NULL={VARINT0^SET(0);}
VARPLAYER:ONCHANGED^UNKNOWN={VARINT0^SET(0);}

OBJECT=ANNELAPSE
ANNELAPSE:TYPE=ANIMO
ANNELAPSE:VISIBLE=TRUE
ANNELAPSE:FILENAME=ELAPSE.ANN
ANNELAPSE:TOCANVAS=TRUE
ANNELAPSE:PRIORITY=0
ANNELAPSE:FPS=40
ANNELAPSE:PRELOAD=TRUE
ANNELAPSE:RELEASE=TRUE
ANNELAPSE:MONITORCOLLISION=FALSE
ANNELAPSE:MONITORCOLLISIONALPHA=FALSE
ANNELAPSE:ONFRAMECHANGED^ELAPSE={BEHMOVEWORLD^RUN();}

OBJECT=ANNKROPLA
ANNKROPLA:TYPE=ANIMO
ANNKROPLA:VISIBLE=TRUE
ANNKROPLA:FILENAME=KROPLA.ANN
ANNKROPLA:TOCANVAS=TRUE
ANNKROPLA:PRIORITY=0
ANNKROPLA:FPS=16
ANNKROPLA:PRELOAD=TRUE
ANNKROPLA:RELEASE=TRUE
ANNKROPLA:MONITORCOLLISION=FALSE
ANNKROPLA:MONITORCOLLISIONALPHA=FALSE
ANNKROPLA:ONFINISHED^PLAY={ANNKROPLA^PLAY("PLAY");}

OBJECT=ANNKOT
ANNKOT:TYPE=ANIMO
ANNKOT:VISIBLE=TRUE
ANNKOT:FILENAME=KOT.ANN
ANNKOT:TOCANVAS=TRUE
ANNKOT:PRIORITY=0
ANNKOT:FPS=16
ANNKOT:PRELOAD=TRUE
ANNKOT:RELEASE=TRUE
ANNKOT:MONITORCOLLISION=FALSE
ANNKOT:MONITORCOLLISIONALPHA=FALSE
ANNKOT:ONFINISHED^PLAY={ANNKOT^PLAY("IDLE");}
ANNKOT:ONFINISHED^SPADA={ANNKOT^PLAY("IDLE");}

OBJECT=ANNUL
ANNUL:TYPE=ANIMO
ANNUL:VISIBLE=TRUE
ANNUL:FILENAME=UL.ANN
ANNUL:TOCANVAS=TRUE
ANNUL:PRIORITY=0
ANNUL:FPS=16
ANNUL:PRELOAD=TRUE
ANNUL:RELEASE=TRUE
ANNUL:MONITORCOLLISION=FALSE
ANNUL:MONITORCOLLISIONALPHA=FALSE
ANNUL:ONFINISHED^STATE0={ANNUL^PLAY("MIOD");ANNUL^SETPRIORITY(0);}

OBJECT=ANNKRET
ANNKRET:TYPE=ANIMO
ANNKRET:VISIBLE=TRUE
ANNKRET:FILENAME=KRET13.ANN
ANNKRET:TOCANVAS=TRUE
ANNKRET:PRIORITY=0
ANNKRET:FPS=16
ANNKRET:PRELOAD=TRUE
ANNKRET:RELEASE=TRUE
ANNKRET:MONITORCOLLISION=FALSE
ANNKRET:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNREX
ANNREX:TYPE=ANIMO
ANNREX:VISIBLE=TRUE
ANNREX:FILENAME=REKS18.ANN
ANNREX:TOCANVAS=TRUE
ANNREX:PRIORITY=0
ANNREX:FPS=16
ANNREX:PRELOAD=TRUE
ANNREX:RELEASE=TRUE
ANNREX:MONITORCOLLISION=FALSE
ANNREX:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNCIENKOTA
ANNCIENKOTA:TYPE=ANIMO
ANNCIENKOTA:VISIBLE=TRUE
ANNCIENKOTA:FILENAME=CIEN_KOTA.ANN
ANNCIENKOTA:TOCANVAS=TRUE
ANNCIENKOTA:PRIORITY=0
ANNCIENKOTA:FPS=16
ANNCIENKOTA:PRELOAD=TRUE
ANNCIENKOTA:RELEASE=TRUE
ANNCIENKOTA:MONITORCOLLISION=FALSE
ANNCIENKOTA:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNNAKLADKA
ANNNAKLADKA:TYPE=ANIMO
ANNNAKLADKA:VISIBLE=TRUE
ANNNAKLADKA:FILENAME=1PLAN.ANN
ANNNAKLADKA:TOCANVAS=TRUE
ANNNAKLADKA:PRIORITY=999
ANNNAKLADKA:FPS=16
ANNNAKLADKA:PRELOAD=TRUE
ANNNAKLADKA:RELEASE=TRUE
ANNNAKLADKA:MONITORCOLLISION=FALSE
ANNNAKLADKA:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNNAKLADKA1
ANNNAKLADKA1:TYPE=ANIMO
ANNNAKLADKA1:VISIBLE=TRUE
ANNNAKLADKA1:FILENAME=NAKLADKA1.ANN
ANNNAKLADKA1:TOCANVAS=TRUE
ANNNAKLADKA1:PRIORITY=999
ANNNAKLADKA1:FPS=16
ANNNAKLADKA1:PRELOAD=TRUE
ANNNAKLADKA1:RELEASE=TRUE
ANNNAKLADKA1:MONITORCOLLISION=FALSE
ANNNAKLADKA1:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNBUTY
ANNBUTY:TYPE=ANIMO
ANNBUTY:VISIBLE=FALSE
ANNBUTY:FILENAME=BUTY.ANN
ANNBUTY:TOCANVAS=TRUE
ANNBUTY:PRIORITY=1
ANNBUTY:FPS=16
ANNBUTY:PRELOAD=TRUE
ANNBUTY:RELEASE=TRUE
ANNBUTY:MONITORCOLLISION=FALSE
ANNBUTY:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNJAGA
ANNJAGA:TYPE=ANIMO
ANNJAGA:VISIBLE=TRUE
ANNJAGA:FILENAME=DO_JAGI.ANN
ANNJAGA:TOCANVAS=TRUE
ANNJAGA:PRIORITY=1
ANNJAGA:FPS=16
ANNJAGA:PRELOAD=TRUE
ANNJAGA:RELEASE=TRUE
ANNJAGA:MONITORCOLLISION=FALSE
ANNJAGA:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGULMASK
IMGULMASK:TYPE=IMAGE
IMGULMASK:VISIBLE=FALSE
IMGULMASK:FILENAME=UL_MASK.IMG
IMGULMASK:TOCANVAS=TRUE
IMGULMASK:PRIORITY=100
IMGULMASK:PRELOAD=TRUE
IMGULMASK:RELEASE=TRUE
IMGULMASK:MONITORCOLLISION=FALSE
IMGULMASK:MONITORCOLLISIONALPHA=FALSE

OBJECT=TEXT1
TEXT1:TYPE=TEXT
TEXT1:VISIBLE=TRUE
TEXT1:HYPERTEXT=
TEXT1:FONT=ARIAL14
TEXT1:TOCANVAS=TRUE
TEXT1:RECT=100,100,200,200
TEXT1:PRIORITY=500
TEXT1:VJUSTIFY=TRUE
TEXT1:MONITORCOLLISION=FALSE
TEXT1:MONITORCOLLISIONALPHA=FALSE

OBJECT=TEXT2
TEXT2:TYPE=TEXT
TEXT2:VISIBLE=TRUE
TEXT2:HYPERTEXT=
TEXT2:FONT=ARIAL14
TEXT2:TOCANVAS=TRUE
TEXT2:RECT=200,100,300,200
TEXT2:PRIORITY=5000
TEXT2:VJUSTIFY=TRUE
TEXT2:MONITORCOLLISION=FALSE
TEXT2:MONITORCOLLISIONALPHA=FALSE

OBJECT=SEQKOT
SEQKOT:TYPE=SEQUENCE
SEQKOT:FILENAME=SEQKOT.SEQ

OBJECT=TIMERKOT
TIMERKOT:TYPE=TIMER
TIMERKOT:ENABLED=TRUE
TIMERKOT:ELAPSE=10000
TIMERKOT:TICKS=0
TIMERKOT:ONTICK={@IF(ARRAYSAVE^GET(1),"_","0","BFITMP8","BFITMP9");}

OBJECT=ARIAL14
ARIAL14:TYPE=FONT
ARIAL14:DEF_ARIAL_STANDARD_14=ARIAL14.FNT

OBJECT=ARRAYSAVE
ARRAYSAVE:TYPE=ARRAY

OBJECT=MOUSE
MOUSE:TYPE=MOUSE
MOUSE:RAW=
MOUSE:ONCLICK={VARPLAYER^SET(CANVASOBSERVER^GETGRAPHICSAT(MOUSE^GETPOSX(),MOUSE^GETPOSY(),FALSE,0,700,FALSE));VARDESTX^SET(MOUSE^GETPOSX());VARDESTY^SET(MOUSE^GETPOSY());VARINT0^SET(VARDESTX);VARINT1^SET(VARDESTY);VARINT0^SUB(*VARPLAYERNAME^GETCENTERX());VARINT1^SUB(*VARPLAYERNAME^GETCENTERY());VARINT0^SET(VARDOUBLE0^ARCTANEX(VARINT1,VARINT0));*VARPLAYERNAME^PLAY([360-VARINT0@45]);}

OBJECT=CNVLOADER
CNVLOADER:TYPE=CNVLOADER

OBJECT=CANVASOBSERVER
CANVASOBSERVER:TYPE=CANVAS_OBSERVER

OBJECT=WORLD
WORLD:TYPE=WORLD
WORLD:FILENAME=WORLD.SEK

OBJECT=SITEM
SITEM:TYPE=STRUCT
SITEM:FIELDS=GUID<INTEGER>,NAME<STRING>,PARENT<INTEGER>,BASE<STRING>,EMPTY<INTEGER>

OBJECT=DBITEMS
DBITEMS:TYPE=DATABASE
DBITEMS:MODEL=SITEM

OBJECT=KEYBOARD
KEYBOARD:TYPE=KEYBOARD

OBJECT=__INIT__
__INIT__:TYPE=BEHAVIOUR
__INIT__:CODE={G_IFLIPPAGE^SET(1);__FLIP__^RUN();VARSAVENAME^SET("$COMMON\CAT0.ARR");@IF("G_SARCADEOBJECTS","_",""CAT"","BFITMP12","BFITMP13");SCENENAME^SET("CAT");G_SLASTOBJECTS^SET("CAT");CAT^STARTMUSIC("BAJKI.WAV");CAT^SETMUSICVOLUME(G_ARRSETTINGS^GET(1));G_CURSOR^SETSCENE("CAT");G_MENU^SETSCENE("CAT");G_MENU^SAVESETS();BEHINITLEVEL^RUN();WORLD^SETGRAVITY(0,0,-1000);ANNREX^PLAY("IDLE_0");ANNREX^SETANCHOR("CENTER");WORLD^ADDBODY(100,10,0.0,10000.0,0.0,0.0,40000,1,2,30,16,16);WORLD^SETLIMIT(100,0,0,0,800,600,999999);WORLD^SETMAXSPEED(100,200);WORLD^SETPOSITION(100,150,400,0);WORLD^LINK(100,"ANNREX");ANNKRET^PLAY("IDLE_0");ANNKRET^SETANCHOR("CENTER");WORLD^ADDBODY(101,10,0.0,10000,0.0,0.0,40000,1,2,30,16,16);WORLD^SETLIMIT(101,0,0,0,800,600,999999);WORLD^SETMAXSPEED(101,200);WORLD^SETPOSITION(101,200,450,0);WORLD^LINK(101,"ANNKRET");ANNCIENKOTA^SETANCHOR("CENTER");ANNKOT^SETANCHOR("CENTER");WORLD^ADDBODY(102,10,0.0,0,0.0,0.0,1,1,2,30,16,16);WORLD^SETLIMIT(102,0,0,0,800,600,999999);WORLD^SETMAXSPEED(102,1000);WORLD^SETPOSITION(102,400,400,0);WORLD^LINK(102,"ANNKOT");VARFORCEX^SET(0);VARFORCEY^SET(0);VARPLAYERNAME^SET("ANNREX");VARPLAYERID^SET(100);WORLD^START();ANNELAPSE^PLAY("ELAPSE");SEQKOT^PLAY("ENTRE");G_AMBIENT^SETAMBIENT("NULL");}


OBJECT=BEHINITLEVEL
BEHINITLEVEL:TYPE=BEHAVIOUR
BEHINITLEVEL:CODE={ANNKOT^PLAY("IDLE");ANNKROPLA^PLAY("PLAY");ANNUL^PLAY("WISI");ANNUL^SETPRIORITY(998);WORLD^SETACTIVE(102,TRUE);@IF(ARRAYSAVE^GET(0),"_","1","BFITMP14","");@IF(ARRAYSAVE^GET(1),"_","1","BFITMP15","");}


OBJECT=BEHMOVEWORLD
BEHMOVEWORLD:TYPE=BEHAVIOUR
BEHMOVEWORLD:CODE={WORLD^MOVEOBJECTS();ANNKRET^SETPRIORITY([ANNKRET^GETPOSITIONY()+ANNKRET^GETHEIGHT()]);ANNREX^SETPRIORITY([ANNREX^GETPOSITIONY()+ANNREX^GETHEIGHT()]);ANNKOT^SETPRIORITY([ANNKOT^GETPOSITIONY()+ANNKOT^GETHEIGHT()]);ANNCIENKOTA^SETPOSITION(ANNKOT^GETCENTERX(),[ANNKOT^GETCENTERY()+30+WORLD^GETPOSITIONZ(102)]);BEHMOVEPLAYER^RUN();BEHCAT^RUN();}


OBJECT=BEHMOVEPLAYER
BEHMOVEPLAYER:TYPE=BEHAVIOUR
BEHMOVEPLAYER:CODE={VARINT0^SET(*VARPLAYERNAME^ISPLAYING());@IF("VARINT0","_","1","BFITMP18","");}


OBJECT=BEHCAT
BEHCAT:TYPE=BEHAVIOUR
BEHCAT:CODE={@IF(ANNKOT^GETEVENTNAME(),"_",""BEZ_BUTOW"","BFITMP19","");VARULMASK^SET(CANVASOBSERVER^GETGRAPHICSAT(ANNCIENKOTA^GETCENTERX(),ANNCIENKOTA^GETCENTERY(),FALSE,0,100,FALSE));@IF("ANNKOT^GETEVENTNAME()!'"PLAY"&&WORLD^GETPOSITIONZ(102)<10","BFITMP20","");@IF(ANNKOT^GETEVENTNAME(),"!_",""IDLE"","BFITMP21","");@IF(WORLD^GETPOSITIONZ(102),">","5","BFITMP22","");VARINT0^SET([ANNKOT^GETCENTERX()-ANNREX^GETCENTERX()]);VARINT1^SET([ANNKOT^GETCENTERY()-ANNREX^GETCENTERY()]);VARINT3^SET(VARINT0^LENGTH(VARINT0,VARINT1));VARINT0^SET([ANNKOT^GETCENTERX()-ANNKRET^GETCENTERX()]);VARINT1^SET([ANNKOT^GETCENTERY()-ANNKRET^GETCENTERY()]);VARINT4^SET(VARINT0^LENGTH(VARINT0,VARINT1));VARINT0^SET(ANNKOT^GETCENTERX());VARINT1^SET(ANNKOT^GETCENTERY());@IF("VARINT4","<","100","BFITMP25","BFITMP26");VARINT0^SET(VARDOUBLE0^ARCTANEX(VARINT1,VARINT0));VARCATFORCEX^COSINUS(VARINT0);VARCATFORCEY^SINUS(VARINT0);VARCATFORCEX^MUL(1000000);VARCATFORCEY^MUL(-1000000);WORLD^SETVELOCITY(102,VARCATFORCEX,VARCATFORCEY,1000000);ANNKOT^PLAY("PLAY");@IF(SEQKOT^ISPLAYING(),"_","FALSE","BFITMP27","");}


OBJECT=BEHBOOTS
BEHBOOTS:TYPE=BEHAVIOUR
BEHBOOTS:CODE={VARSTRING0^SET(["$COMMON\ITEMS"+G_IGAMESLOT+".DTA"]);VARSTRING1^SET("BUTY_BUT");DBITEMS^LOAD(VARSTRING0);@IF(DBITEMS^FIND("NAME",VARSTRING1,0),">","-1","BFITMP28","");VARINT0^SET(DBITEMS^FIND("EMPTY",0,0));@IF("VARINT0","_","-1","BFITMP29","");SITEM|GUID^SET(VARINT0);SITEM|NAME^SET(VARSTRING1);SITEM|PARENT^SET(-1);SITEM|BASE^SET("CAT");SITEM|EMPTY^SET(1);DBITEMS^SELECT(VARINT0);DBITEMS_CURSOR^SET("SITEM");DBITEMS^SAVE(VARSTRING0);}


OBJECT=_CURSORMOVE_
_CURSORMOVE_:TYPE=BEHAVIOUR
_CURSORMOVE_:CODE={G_CURSOR^SETOBJECT(CANVASOBSERVER^GETGRAPHICSAT(MOUSE^GETPOSX(),MOUSE^GETPOSY(),TRUE,0,5000,TRUE));}


OBJECT=__PAUSEEND__
__PAUSEEND__:TYPE=BEHAVIOUR
__PAUSEEND__:CODE={MOUSE^ENABLESIGNAL();KEYBOARD^ENABLE();ARCADE^STARTMUSIC(VARSMUSIC);ARCADE^SETMUSICVOLUME(G_ARRSETTINGS^GET(1));__GRHELP__^REMOVEALL();}


OBJECT=__PAUSESTART__
__PAUSESTART__:TYPE=BEHAVIOUR
__PAUSESTART__:CODE={SCENENAME^SET(PRZYGODA^GETCURRENTSCENE());MOUSE^DISABLESIGNAL();__KEYB__^SET(KEYBOARD^ISENABLED());KEYBOARD^DISABLE();__HSPOTMAX__^SET(*SCENENAME^GETMAXHSPRIORITY());__HSPOTMIN__^SET(*SCENENAME^GETMINHSPRIORITY());*SCENENAME^GETPLAYINGANIMO("__GRHELP__");}


OBJECT=_LOADGAME_
_LOADGAME_:TYPE=BEHAVIOUR
_LOADGAME_:CODE={S_IHILLNUMBER^SET(0);@IF(G_ARRDATAS^FIND(G_SARCADEOBJECTS),">","-1","BFITMP30","BFITMP31");}


OBJECT=_NEWGAME_
_NEWGAME_:TYPE=BEHAVIOUR
_NEWGAME_:CODE={S_IHILLNUMBER^SET(0);@IF(G_ARRDATAS^FIND(G_SARCADEOBJECTS),">","-1","BFITMP32","BFITMP33");}


OBJECT=_VOLUME_
_VOLUME_:TYPE=BEHAVIOUR
_VOLUME_:CODE={DIALOGS^SETMUSICVOLUME([0.8*G_ARRSETTINGS^GET(1)]);}


OBJECT=__HELPEND__
__HELPEND__:TYPE=BEHAVIOUR
__HELPEND__:CODE={MOUSE^ENABLESIGNAL();@IF("__KEYB__","_","TRUE","BFITMP34","BFITMP35");CNVLOADER^RELEASE([G_SCUTSCENE+".CNV"]);}


OBJECT=__HELPSTART__
__HELPSTART__:TYPE=BEHAVIOUR
__HELPSTART__:CODE={SCENENAME^SET(PRZYGODA^GETCURRENTSCENE());MOUSE^DISABLESIGNAL();__KEYB__^SET(KEYBOARD^ISENABLED());KEYBOARD^DISABLE();__HSPOTMAX__^SET(*SCENENAME^GETMAXHSPRIORITY());__HSPOTMIN__^SET(*SCENENAME^GETMINHSPRIORITY());*SCENENAME^GETPLAYINGANIMO("__GRHELP__");CNVLOADER^LOAD([G_SCUTSCENE+".CNV"]);}


OBJECT=BFITMP0
BFITMP0:TYPE=BEHAVIOUR
BFITMP0:CODE={ANNUL^PLAY("STATE0");ANNKROPLA^STOP(FALSE);ANNKROPLA^HIDE();ARRAYSAVE^CHANGEAT(0,1);ARRAYSAVE^SAVE(VARSAVENAME);SEQKOT^PLAY("UL");}


OBJECT=BFITMP1
BFITMP1:TYPE=BEHAVIOUR
BFITMP1:CODE={ANNKOT^PLAY("BEZ_BUTOW");ANNBUTY^PLAY("PLAY");WORLD^SETACTIVE(102,FALSE);ARRAYSAVE^CHANGEAT(1,1);ARRAYSAVE^SAVE(VARSAVENAME);SEQKOT^PLAY("BUTY");}


OBJECT=BFITMP2
BFITMP2:TYPE=BEHAVIOUR
BFITMP2:CODE={@IF(WORLD^GETPOSITIONZ(102),"<","5","BFITMP1","");}


OBJECT=BFITMP3
BFITMP3:TYPE=BEHAVIOUR
BFITMP3:CODE={@IF(WORLD^GETPOSITIONZ(102),">","150","BFITMP0","");}


OBJECT=BFITMP4
BFITMP4:TYPE=BEHAVIOUR
BFITMP4:CODE={@IF(ANNKOT^GETEVENTNAME(),"!_",""BEZ_BUTOW"","BFITMP2","");}


OBJECT=BFITMP5
BFITMP5:TYPE=BEHAVIOUR
BFITMP5:CODE={VARFORCEX^SET(0);VARFORCEY^SET(0);VARPLAYERNAME^SET("ANNREX");VARPLAYERID^SET(100);ANNKRET^PLAY(["IDLE_"+ANNKRET^GETEVENTNAME()]);@BREAK();}


OBJECT=BFITMP6
BFITMP6:TYPE=BEHAVIOUR
BFITMP6:CODE={VARFORCEX^SET(0);VARFORCEY^SET(0);VARPLAYERNAME^SET("ANNKRET");VARPLAYERID^SET(101);ANNREX^PLAY(["IDLE_"+ANNREX^GETEVENTNAME()]);}


OBJECT=BFITMP7
BFITMP7:TYPE=BEHAVIOUR
BFITMP7:CODE={SEQKOT^PLAY("RANDOM");}


OBJECT=BFITMP8
BFITMP8:TYPE=BEHAVIOUR
BFITMP8:CODE={@IF(SEQKOT^ISPLAYING(),"_","FALSE","BFITMP7","");TIMERKOT^SETELAPSE(RANDOM^GET(20000,10000));}


OBJECT=BFITMP9
BFITMP9:TYPE=BEHAVIOUR
BFITMP9:CODE={TIMERKOT^DISABLE();}


OBJECT=BFITMP10
BFITMP10:TYPE=BEHAVIOUR
BFITMP10:CODE={ARRAYSAVE^ADD(0,0);ARRAYSAVE^SAVE(VARSAVENAME);}


OBJECT=BFITMP11
BFITMP11:TYPE=BEHAVIOUR
BFITMP11:CODE={ARRAYSAVE^ADD(0,0);}


OBJECT=BFITMP12
BFITMP12:TYPE=BEHAVIOUR
BFITMP12:CODE={ARRAYSAVE^LOAD(VARSAVENAME);@IF(ARRAYSAVE^GETSIZE(),"_","0","BFITMP10","");}


OBJECT=BFITMP13
BFITMP13:TYPE=BEHAVIOUR
BFITMP13:CODE={G_SARCADEOBJECTS^SET("CAT");ARRAYSAVE^LOAD(VARSAVENAME);@IF(ARRAYSAVE^GETSIZE(),"_","0","BFITMP11","");ARRAYSAVE^SAVE(VARSAVENAME);}


OBJECT=BFITMP14
BFITMP14:TYPE=BEHAVIOUR
BFITMP14:CODE={ANNKROPLA^STOP(FALSE);ANNKROPLA^HIDE();ANNUL^PLAY("MIOD");ANNUL^SETPRIORITY(0);}


OBJECT=BFITMP15
BFITMP15:TYPE=BEHAVIOUR
BFITMP15:CODE={ANNBUTY^PLAY("PLAY");ANNBUTY^SETPRIORITY(1);ANNKOT^SETFRAME("BEZ_BUTOW",43);ANNKOT^HIDE();ANNCIENKOTA^HIDE();WORLD^SETACTIVE(102,FALSE);}


OBJECT=BFITMP16
BFITMP16:TYPE=BEHAVIOUR
BFITMP16:CODE={VARSTRING0^SET("IDLE_");VARSTRING0^ADD(*VARPLAYERNAME^GETEVENTNAME());*VARPLAYERNAME^PLAY(VARSTRING0);WORLD^SETVELOCITY(VARPLAYERID,0,0,0);VARCOLLISION^SET(CANVASOBSERVER^GETGRAPHICSAT(VARDESTX,VARDESTY,FALSE,1,1,FALSE));}


OBJECT=BFITMP17
BFITMP17:TYPE=BEHAVIOUR
BFITMP17:CODE={VARINT0^SET(VARDOUBLE0^ARCTANEX(VARINT1,VARINT0));VARFORCEX^COSINUS(VARINT0);VARFORCEY^SINUS(VARINT0);VARFORCEX^MUL(100);VARFORCEY^MUL(-100);WORLD^SETVELOCITY(VARPLAYERID,VARFORCEX,VARFORCEY,0.0);}


OBJECT=BFITMP18
BFITMP18:TYPE=BEHAVIOUR
BFITMP18:CODE={VARINT0^SET(*VARPLAYERNAME^GETCENTERX());VARINT1^SET(*VARPLAYERNAME^GETCENTERY());VARINT0^SET([VARDESTX-VARINT0]);VARINT1^SET([VARDESTY-VARINT1]);VARINT3^LENGTH(VARINT0,VARINT1);@IF("VARINT3","<","10","BFITMP16","BFITMP17");}


OBJECT=BFITMP19
BFITMP19:TYPE=BEHAVIOUR
BFITMP19:CODE={@BREAK();}


OBJECT=BFITMP20
BFITMP20:TYPE=BEHAVIOUR
BFITMP20:CODE={WORLD^SETVELOCITY(102,0,0,0);}


OBJECT=BFITMP21
BFITMP21:TYPE=BEHAVIOUR
BFITMP21:CODE={@BREAK();}


OBJECT=BFITMP22
BFITMP22:TYPE=BEHAVIOUR
BFITMP22:CODE={@BREAK();}


OBJECT=BFITMP23
BFITMP23:TYPE=BEHAVIOUR
BFITMP23:CODE={VARINT0^SUB(ANNREX^GETCENTERX());VARINT1^SUB(ANNREX^GETCENTERY());}


OBJECT=BFITMP24
BFITMP24:TYPE=BEHAVIOUR
BFITMP24:CODE={@BREAK();}


OBJECT=BFITMP25
BFITMP25:TYPE=BEHAVIOUR
BFITMP25:CODE={VARINT0^SUB(ANNKRET^GETCENTERX());VARINT1^SUB(ANNKRET^GETCENTERY());}


OBJECT=BFITMP26
BFITMP26:TYPE=BEHAVIOUR
BFITMP26:CODE={@IF("VARINT3","<","100","BFITMP23","BFITMP24");}


OBJECT=BFITMP27
BFITMP27:TYPE=BEHAVIOUR
BFITMP27:CODE={SEQKOT^PLAY("KOTSKOK");}


OBJECT=BFITMP28
BFITMP28:TYPE=BEHAVIOUR
BFITMP28:CODE={@BREAK();}


OBJECT=BFITMP29
BFITMP29:TYPE=BEHAVIOUR
BFITMP29:CODE={@BREAK();}


OBJECT=BFITMP30
BFITMP30:TYPE=BEHAVIOUR
BFITMP30:CODE={PRZYGODA^GOTO("ARCADE");@BREAK();}


OBJECT=BFITMP31
BFITMP31:TYPE=BEHAVIOUR
BFITMP31:CODE={PRZYGODA^GOTO(G_SARCADEOBJECTS);@BREAK();}


OBJECT=BFITMP32
BFITMP32:TYPE=BEHAVIOUR
BFITMP32:CODE={PRZYGODA^GOTO("ARCADE");@BREAK();}


OBJECT=BFITMP33
BFITMP33:TYPE=BEHAVIOUR
BFITMP33:CODE={PRZYGODA^GOTO(G_SARCADEOBJECTS);@BREAK();}


OBJECT=BFITMP34
BFITMP34:TYPE=BEHAVIOUR
BFITMP34:CODE={KEYBOARD^ENABLE();}


OBJECT=BFITMP35
BFITMP35:TYPE=BEHAVIOUR
BFITMP35:CODE={KEYBOARD^DISABLE();}


