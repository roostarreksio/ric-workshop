OBJECT=MUSIC
MUSIC:TYPE=MUSIC
MUSIC:FILENAME=BAJKI.WAV

OBJECT=VARX
VARX:TYPE=INTEGER

OBJECT=VARY
VARY:TYPE=INTEGER

OBJECT=VARDX
VARDX:TYPE=INTEGER

OBJECT=VARDY
VARDY:TYPE=INTEGER

OBJECT=VARALPHADX
VARALPHADX:TYPE=INTEGER

OBJECT=VARALPHADY
VARALPHADY:TYPE=INTEGER

OBJECT=VARINT0
VARINT0:TYPE=INTEGER

OBJECT=VARINT1
VARINT1:TYPE=INTEGER

OBJECT=VARSTRING0
VARSTRING0:TYPE=STRING

OBJECT=VARSTRING1
VARSTRING1:TYPE=STRING

OBJECT=VARDIR
VARDIR:TYPE=STRING
VARDIR:VALUE=L

OBJECT=VARPLAYERX
VARPLAYERX:TYPE=INTEGER

OBJECT=VARPLAYERY
VARPLAYERY:TYPE=INTEGER

OBJECT=VARALPHA
VARALPHA:TYPE=INTEGER

OBJECT=VARLADDER
VARLADDER:TYPE=INTEGER
VARLADDER:VALUE=0

OBJECT=VARSCROLL
VARSCROLL:TYPE=INTEGER

OBJECT=VARCOLL
VARCOLL:TYPE=STRING
VARCOLL:ONCHANGED^NULL={VARINT0^SET(0);}
VARCOLL:ONCHANGED={@IF(ANNBLINK^ISPLAYING(),"_","FALSE","BFITMP1","");@BREAK();}

OBJECT=VARENERGIA
VARENERGIA:TYPE=INTEGER
VARENERGIA:ONCHANGED={IMGENERGIA^SETPOSITION([795-VARENERGIA],78);}
VARENERGIA:ONCHANGED^0={IMGENERGIA^SETPOSITION([795-VARENERGIA],78);ANNPLAYER^STOP(FALSE);GROUPENEMY^STOP(FALSE);ANNCOLL^STOP(FALSE);FRED^PAUSE();SEQNARRATOR^PLAY("FAILED");}

OBJECT=VARJUMP
VARJUMP:TYPE=INTEGER
VARJUMP:VALUE=0

OBJECT=ANNELEMENT
ANNELEMENT:TYPE=ANIMO
ANNELEMENT:VISIBLE=TRUE
ANNELEMENT:FILENAME=ELEMENT.ANN
ANNELEMENT:TOCANVAS=TRUE
ANNELEMENT:PRIORITY=0
ANNELEMENT:FPS=16
ANNELEMENT:PRELOAD=TRUE
ANNELEMENT:RELEASE=TRUE
ANNELEMENT:MONITORCOLLISION=FALSE
ANNELEMENT:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNUKLAD
ANNUKLAD:TYPE=ANIMO
ANNUKLAD:VISIBLE=FALSE
ANNUKLAD:FILENAME=UKLAD.ANN
ANNUKLAD:TOCANVAS=TRUE
ANNUKLAD:PRIORITY=0
ANNUKLAD:FPS=16
ANNUKLAD:PRELOAD=TRUE
ANNUKLAD:RELEASE=TRUE
ANNUKLAD:MONITORCOLLISION=FALSE
ANNUKLAD:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNEUKLAD
ANNEUKLAD:TYPE=ANIMO
ANNEUKLAD:VISIBLE=TRUE
ANNEUKLAD:FILENAME=E_UKLAD.ANN
ANNEUKLAD:TOCANVAS=TRUE
ANNEUKLAD:PRIORITY=0
ANNEUKLAD:FPS=16
ANNEUKLAD:PRELOAD=TRUE
ANNEUKLAD:RELEASE=TRUE
ANNEUKLAD:MONITORCOLLISION=FALSE
ANNEUKLAD:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNPLAYER
ANNPLAYER:TYPE=ANIMO
ANNPLAYER:VISIBLE=TRUE
ANNPLAYER:FILENAME=PLAYER0.ANN
ANNPLAYER:TOCANVAS=TRUE
ANNPLAYER:PRIORITY=160
ANNPLAYER:FPS=20
ANNPLAYER:PRELOAD=TRUE
ANNPLAYER:RELEASE=TRUE
ANNPLAYER:MONITORCOLLISION=FALSE
ANNPLAYER:MONITORCOLLISIONALPHA=FALSE
ANNPLAYER:ONFINISHED={BEHNEXTMOVE^RUN();}
ANNPLAYER:ONFRAMECHANGED^RIGHT={VARDX^SET(4);VARDY^SET(0);VARALPHADX^SET(4);VARALPHADY^SET(0);BEHMOVEPLAYER^RUN();}
ANNPLAYER:ONFRAMECHANGED^LEFT={VARDX^SET(-4);VARDY^SET(0);VARALPHADX^SET(-4);VARALPHADY^SET(0);BEHMOVEPLAYER^RUN();}
ANNPLAYER:ONFRAMECHANGED^UPR={VARDX^SET(0);VARDY^SET(-4);VARALPHADX^SET(0);VARALPHADY^SET(-4);BEHMOVEPLAYER^RUN();}
ANNPLAYER:ONFRAMECHANGED^UPL={VARDX^SET(0);VARDY^SET(-4);VARALPHADX^SET(0);VARALPHADY^SET(-4);BEHMOVEPLAYER^RUN();}
ANNPLAYER:ONFRAMECHANGED^DOWNR={VARDX^SET(0);VARDY^SET(4);VARALPHADX^SET(0);VARALPHADY^SET(50);BEHMOVEPLAYER^RUN();}
ANNPLAYER:ONFRAMECHANGED^DOWNL={VARDX^SET(0);VARDY^SET(4);VARALPHADX^SET(0);VARALPHADY^SET(50);BEHMOVEPLAYER^RUN();}
ANNPLAYER:ONFRAMECHANGED^JUMPR={VARDX^SET(8);VARDY^SET(0);VARALPHADX^SET(8);VARALPHADY^SET(0);BEHMOVEPLAYER^RUN();}
ANNPLAYER:ONFRAMECHANGED^JUMPL={VARDX^SET(-8);VARDY^SET(0);VARALPHADX^SET(-8);VARALPHADY^SET(0);BEHMOVEPLAYER^RUN();}

OBJECT=ANNPLAYERPOS
ANNPLAYERPOS:TYPE=ANIMO
ANNPLAYERPOS:VISIBLE=FALSE
ANNPLAYERPOS:FILENAME=WSK.ANN
ANNPLAYERPOS:TOCANVAS=TRUE
ANNPLAYERPOS:PRIORITY=101
ANNPLAYERPOS:FPS=16
ANNPLAYERPOS:PRELOAD=TRUE
ANNPLAYERPOS:RELEASE=TRUE
ANNPLAYERPOS:MONITORCOLLISION=FALSE
ANNPLAYERPOS:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNENEMY
ANNENEMY:TYPE=ANIMO
ANNENEMY:VISIBLE=TRUE
ANNENEMY:FILENAME=ENEMY.ANN
ANNENEMY:TOCANVAS=TRUE
ANNENEMY:PRIORITY=150
ANNENEMY:FPS=16
ANNENEMY:PRELOAD=TRUE
ANNENEMY:RELEASE=TRUE
ANNENEMY:MONITORCOLLISION=FALSE
ANNENEMY:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNCOLL
ANNCOLL:TYPE=ANIMO
ANNCOLL:VISIBLE=TRUE
ANNCOLL:FILENAME=ELAPCOLL.ANN
ANNCOLL:TOCANVAS=TRUE
ANNCOLL:PRIORITY=0
ANNCOLL:FPS=10
ANNCOLL:PRELOAD=TRUE
ANNCOLL:RELEASE=TRUE
ANNCOLL:MONITORCOLLISION=FALSE
ANNCOLL:MONITORCOLLISIONALPHA=FALSE
ANNCOLL:ONFRAMECHANGED={VARCOLL^SET(CANVASOBSERVER^GETGRAPHICSAT(ANNPLAYER^GETCENTERX(),ANNPLAYER^GETPOSITIONY(),TRUE,150,150,TRUE));VARCOLL^SET(CANVASOBSERVER^GETGRAPHICSAT([ANNPLAYER^GETPOSITIONX()+ANNPLAYER^GETWIDTH()],ANNPLAYER^GETCENTERY(),TRUE,150,150,TRUE));VARCOLL^SET(CANVASOBSERVER^GETGRAPHICSAT(ANNPLAYER^GETCENTERX(),[ANNPLAYER^GETPOSITIONY()+ANNPLAYER^GETHEIGHT()],TRUE,150,150,TRUE));VARCOLL^SET(CANVASOBSERVER^GETGRAPHICSAT(ANNPLAYER^GETPOSITIONX(),ANNPLAYER^GETCENTERY(),TRUE,150,150,TRUE));VARCOLL^SET(CANVASOBSERVER^GETGRAPHICSAT(ANNPLAYER^GETCENTERX(),ANNPLAYER^GETCENTERY(),TRUE,150,150,TRUE));}
ANNCOLL:ONFINISHED={ANNCOLL^PLAY("ELAPSE");}

OBJECT=ANNBLINK
ANNBLINK:TYPE=ANIMO
ANNBLINK:VISIBLE=TRUE
ANNBLINK:FILENAME=BLINK.ANN
ANNBLINK:TOCANVAS=TRUE
ANNBLINK:PRIORITY=0
ANNBLINK:FPS=16
ANNBLINK:PRELOAD=TRUE
ANNBLINK:RELEASE=TRUE
ANNBLINK:MONITORCOLLISION=FALSE
ANNBLINK:MONITORCOLLISIONALPHA=FALSE
ANNBLINK:ONFRAMECHANGED={ANNPLAYER^SETOPACITY(ANNBLINK^GETFRAMENAME());}

OBJECT=IMGLEVEL
IMGLEVEL:TYPE=IMAGE
IMGLEVEL:VISIBLE=FALSE
IMGLEVEL:FILENAME=LEVEL.IMG
IMGLEVEL:TOCANVAS=TRUE
IMGLEVEL:PRIORITY=100
IMGLEVEL:PRELOAD=TRUE
IMGLEVEL:RELEASE=TRUE
IMGLEVEL:MONITORCOLLISION=FALSE
IMGLEVEL:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGNAK1
IMGNAK1:TYPE=IMAGE
IMGNAK1:VISIBLE=TRUE
IMGNAK1:FILENAME=NAK1.IMG
IMGNAK1:TOCANVAS=TRUE
IMGNAK1:PRIORITY=200
IMGNAK1:PRELOAD=TRUE
IMGNAK1:RELEASE=TRUE
IMGNAK1:MONITORCOLLISION=FALSE
IMGNAK1:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGNAK2
IMGNAK2:TYPE=IMAGE
IMGNAK2:VISIBLE=TRUE
IMGNAK2:FILENAME=NAK2.IMG
IMGNAK2:TOCANVAS=TRUE
IMGNAK2:PRIORITY=200
IMGNAK2:PRELOAD=TRUE
IMGNAK2:RELEASE=TRUE
IMGNAK2:MONITORCOLLISION=FALSE
IMGNAK2:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGNAK3
IMGNAK3:TYPE=IMAGE
IMGNAK3:VISIBLE=TRUE
IMGNAK3:FILENAME=NAK3.IMG
IMGNAK3:TOCANVAS=TRUE
IMGNAK3:PRIORITY=200
IMGNAK3:PRELOAD=TRUE
IMGNAK3:RELEASE=TRUE
IMGNAK3:MONITORCOLLISION=FALSE
IMGNAK3:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGNAK4
IMGNAK4:TYPE=IMAGE
IMGNAK4:VISIBLE=TRUE
IMGNAK4:FILENAME=NAK4.IMG
IMGNAK4:TOCANVAS=TRUE
IMGNAK4:PRIORITY=200
IMGNAK4:PRELOAD=TRUE
IMGNAK4:RELEASE=TRUE
IMGNAK4:MONITORCOLLISION=FALSE
IMGNAK4:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGNAK5
IMGNAK5:TYPE=IMAGE
IMGNAK5:VISIBLE=TRUE
IMGNAK5:FILENAME=NAK5.IMG
IMGNAK5:TOCANVAS=TRUE
IMGNAK5:PRIORITY=200
IMGNAK5:PRELOAD=TRUE
IMGNAK5:RELEASE=TRUE
IMGNAK5:MONITORCOLLISION=FALSE
IMGNAK5:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGNAK6
IMGNAK6:TYPE=IMAGE
IMGNAK6:VISIBLE=TRUE
IMGNAK6:FILENAME=NAK6.IMG
IMGNAK6:TOCANVAS=TRUE
IMGNAK6:PRIORITY=200
IMGNAK6:PRELOAD=TRUE
IMGNAK6:RELEASE=TRUE
IMGNAK6:MONITORCOLLISION=FALSE
IMGNAK6:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGNAK7
IMGNAK7:TYPE=IMAGE
IMGNAK7:VISIBLE=TRUE
IMGNAK7:FILENAME=NAK7.IMG
IMGNAK7:TOCANVAS=TRUE
IMGNAK7:PRIORITY=200
IMGNAK7:PRELOAD=TRUE
IMGNAK7:RELEASE=TRUE
IMGNAK7:MONITORCOLLISION=FALSE
IMGNAK7:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGNAK8
IMGNAK8:TYPE=IMAGE
IMGNAK8:VISIBLE=TRUE
IMGNAK8:FILENAME=NAK8.IMG
IMGNAK8:TOCANVAS=TRUE
IMGNAK8:PRIORITY=200
IMGNAK8:PRELOAD=TRUE
IMGNAK8:RELEASE=TRUE
IMGNAK8:MONITORCOLLISION=FALSE
IMGNAK8:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGNAK9
IMGNAK9:TYPE=IMAGE
IMGNAK9:VISIBLE=TRUE
IMGNAK9:FILENAME=NAK9.IMG
IMGNAK9:TOCANVAS=TRUE
IMGNAK9:PRIORITY=200
IMGNAK9:PRELOAD=TRUE
IMGNAK9:RELEASE=TRUE
IMGNAK9:MONITORCOLLISION=FALSE
IMGNAK9:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGNAK10
IMGNAK10:TYPE=IMAGE
IMGNAK10:VISIBLE=TRUE
IMGNAK10:FILENAME=NAK10.IMG
IMGNAK10:TOCANVAS=TRUE
IMGNAK10:PRIORITY=200
IMGNAK10:PRELOAD=TRUE
IMGNAK10:RELEASE=TRUE
IMGNAK10:MONITORCOLLISION=FALSE
IMGNAK10:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGNAK11
IMGNAK11:TYPE=IMAGE
IMGNAK11:VISIBLE=TRUE
IMGNAK11:FILENAME=NAK11.IMG
IMGNAK11:TOCANVAS=TRUE
IMGNAK11:PRIORITY=200
IMGNAK11:PRELOAD=TRUE
IMGNAK11:RELEASE=TRUE
IMGNAK11:MONITORCOLLISION=FALSE
IMGNAK11:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGNAK12
IMGNAK12:TYPE=IMAGE
IMGNAK12:VISIBLE=TRUE
IMGNAK12:FILENAME=NAK12.IMG
IMGNAK12:TOCANVAS=TRUE
IMGNAK12:PRIORITY=200
IMGNAK12:PRELOAD=TRUE
IMGNAK12:RELEASE=TRUE
IMGNAK12:MONITORCOLLISION=FALSE
IMGNAK12:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGNAK13
IMGNAK13:TYPE=IMAGE
IMGNAK13:VISIBLE=TRUE
IMGNAK13:FILENAME=NAK13.IMG
IMGNAK13:TOCANVAS=TRUE
IMGNAK13:PRIORITY=200
IMGNAK13:PRELOAD=TRUE
IMGNAK13:RELEASE=TRUE
IMGNAK13:MONITORCOLLISION=FALSE
IMGNAK13:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGNAK14
IMGNAK14:TYPE=IMAGE
IMGNAK14:VISIBLE=TRUE
IMGNAK14:FILENAME=NAK14.IMG
IMGNAK14:TOCANVAS=TRUE
IMGNAK14:PRIORITY=200
IMGNAK14:PRELOAD=TRUE
IMGNAK14:RELEASE=TRUE
IMGNAK14:MONITORCOLLISION=FALSE
IMGNAK14:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGNAK15
IMGNAK15:TYPE=IMAGE
IMGNAK15:VISIBLE=TRUE
IMGNAK15:FILENAME=NAK15.IMG
IMGNAK15:TOCANVAS=TRUE
IMGNAK15:PRIORITY=200
IMGNAK15:PRELOAD=TRUE
IMGNAK15:RELEASE=TRUE
IMGNAK15:MONITORCOLLISION=FALSE
IMGNAK15:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGNAK16
IMGNAK16:TYPE=IMAGE
IMGNAK16:VISIBLE=TRUE
IMGNAK16:FILENAME=NAK16.IMG
IMGNAK16:TOCANVAS=TRUE
IMGNAK16:PRIORITY=200
IMGNAK16:PRELOAD=TRUE
IMGNAK16:RELEASE=TRUE
IMGNAK16:MONITORCOLLISION=FALSE
IMGNAK16:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGNAK17
IMGNAK17:TYPE=IMAGE
IMGNAK17:VISIBLE=TRUE
IMGNAK17:FILENAME=NAK17.IMG
IMGNAK17:TOCANVAS=TRUE
IMGNAK17:PRIORITY=200
IMGNAK17:PRELOAD=TRUE
IMGNAK17:RELEASE=TRUE
IMGNAK17:MONITORCOLLISION=FALSE
IMGNAK17:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGNAK18
IMGNAK18:TYPE=IMAGE
IMGNAK18:VISIBLE=TRUE
IMGNAK18:FILENAME=NAK18.IMG
IMGNAK18:TOCANVAS=TRUE
IMGNAK18:PRIORITY=200
IMGNAK18:PRELOAD=TRUE
IMGNAK18:RELEASE=TRUE
IMGNAK18:MONITORCOLLISION=FALSE
IMGNAK18:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGNAKLADKA1
IMGNAKLADKA1:TYPE=IMAGE
IMGNAKLADKA1:VISIBLE=TRUE
IMGNAKLADKA1:FILENAME=NAKLADKA1.IMG
IMGNAKLADKA1:TOCANVAS=TRUE
IMGNAKLADKA1:PRIORITY=300
IMGNAKLADKA1:PRELOAD=TRUE
IMGNAKLADKA1:RELEASE=TRUE
IMGNAKLADKA1:MONITORCOLLISION=FALSE
IMGNAKLADKA1:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGNAKLADKA2
IMGNAKLADKA2:TYPE=IMAGE
IMGNAKLADKA2:VISIBLE=TRUE
IMGNAKLADKA2:FILENAME=NAKLADKA2.IMG
IMGNAKLADKA2:TOCANVAS=TRUE
IMGNAKLADKA2:PRIORITY=302
IMGNAKLADKA2:PRELOAD=TRUE
IMGNAKLADKA2:RELEASE=TRUE
IMGNAKLADKA2:MONITORCOLLISION=FALSE
IMGNAKLADKA2:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGENERGIA
IMGENERGIA:TYPE=IMAGE
IMGENERGIA:VISIBLE=TRUE
IMGENERGIA:FILENAME=E_LIVE.IMG
IMGENERGIA:TOCANVAS=TRUE
IMGENERGIA:PRIORITY=301
IMGENERGIA:PRELOAD=TRUE
IMGENERGIA:RELEASE=TRUE
IMGENERGIA:MONITORCOLLISION=FALSE
IMGENERGIA:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGRESTARTSTD
IMGRESTARTSTD:TYPE=IMAGE
IMGRESTARTSTD:VISIBLE=TRUE
IMGRESTARTSTD:FILENAME=BACKSTD.IMG
IMGRESTARTSTD:TOCANVAS=TRUE
IMGRESTARTSTD:PRIORITY=1002
IMGRESTARTSTD:PRELOAD=TRUE
IMGRESTARTSTD:RELEASE=TRUE
IMGRESTARTSTD:MONITORCOLLISION=FALSE
IMGRESTARTSTD:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGRESTARTOM
IMGRESTARTOM:TYPE=IMAGE
IMGRESTARTOM:VISIBLE=TRUE
IMGRESTARTOM:FILENAME=BACKOM.IMG
IMGRESTARTOM:TOCANVAS=TRUE
IMGRESTARTOM:PRIORITY=1002
IMGRESTARTOM:PRELOAD=TRUE
IMGRESTARTOM:RELEASE=TRUE
IMGRESTARTOM:MONITORCOLLISION=FALSE
IMGRESTARTOM:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGRESTARTOC
IMGRESTARTOC:TYPE=IMAGE
IMGRESTARTOC:VISIBLE=TRUE
IMGRESTARTOC:FILENAME=BACKOC.IMG
IMGRESTARTOC:TOCANVAS=TRUE
IMGRESTARTOC:PRIORITY=1002
IMGRESTARTOC:PRELOAD=TRUE
IMGRESTARTOC:RELEASE=TRUE
IMGRESTARTOC:MONITORCOLLISION=FALSE
IMGRESTARTOC:MONITORCOLLISIONALPHA=FALSE

OBJECT=BTNRESTART
BTNRESTART:TYPE=BUTTON
BTNRESTART:VISIBLE=TRUE
BTNRESTART:ENABLE=TRUE
BTNRESTART:DRAGGABLE=FALSE
BTNRESTART:GFXSTANDARD=IMGRESTARTSTD
BTNRESTART:GFXONCLICK=IMGRESTARTOC
BTNRESTART:GFXONMOVE=IMGRESTARTOM
BTNRESTART:ONRELEASED={SEQNARRATOR^PLAY("RESTARTBTN");}

OBJECT=TEXT
TEXT:TYPE=TEXT
TEXT:VISIBLE=TRUE
TEXT:HYPERTEXT=
TEXT:FONT=FONT
TEXT:TOCANVAS=TRUE
TEXT:RECT=10,10,310,30
TEXT:PRIORITY=1000
TEXT:HJUSTIFY=LEFT
TEXT:VJUSTIFY=TRUE
TEXT:MONITORCOLLISION=FALSE
TEXT:MONITORCOLLISIONALPHA=FALSE

OBJECT=TEXT1
TEXT1:TYPE=TEXT
TEXT1:VISIBLE=TRUE
TEXT1:HYPERTEXT=
TEXT1:FONT=FONT
TEXT1:TOCANVAS=TRUE
TEXT1:RECT=300,10,400,30
TEXT1:PRIORITY=1000
TEXT1:HJUSTIFY=LEFT
TEXT1:VJUSTIFY=TRUE
TEXT1:MONITORCOLLISION=FALSE
TEXT1:MONITORCOLLISIONALPHA=FALSE

OBJECT=SEQNARRATOR
SEQNARRATOR:TYPE=SEQUENCE
SEQNARRATOR:FILENAME=SEQNARRATOR.SEQ
SEQNARRATOR:ONFINISHED^FAILED={__SCREENSHOT__^RUN();FRED^RESUME();PRZYGODA^GOTO("FRED");}
SEQNARRATOR:ONFINISHED^RESTARTBTN={__SCREENSHOT__^RUN();FRED^RESUME();PRZYGODA^GOTO("FRED");}

OBJECT=TIMERSEQ
TIMERSEQ:TYPE=TIMER
TIMERSEQ:ENABLED=TRUE
TIMERSEQ:ELAPSE=1000
TIMERSEQ:TICKS=0
TIMERSEQ:ONTICK={VARSTRING0^SET("KRET");VARSTRING0^ADD(RANDOM^GET(8));@IF(SEQNARRATOR^ISPLAYING(),"_","FALSE","BFITMP2","");TIMERSEQ^SETELAPSE(RANDOM^GET(30000,10000));}

OBJECT=GROUPNAK
GROUPNAK:TYPE=GROUP

OBJECT=GROUPENEMY
GROUPENEMY:TYPE=GROUP

OBJECT=SNDKRET0
SNDKRET0:TYPE=SOUND
SNDKRET0:FILENAME=ALCHOMIK_M094.WAV
SNDKRET0:PRELOAD=FALSE
SNDKRET0:FLUSHAFTERPLAYED=FALSE

OBJECT=FONT
FONT:TYPE=FONT
FONT:DEF_ARIAL_STANDARD_14=ARIAL14.FNT

OBJECT=MOUSE
MOUSE:TYPE=MOUSE
MOUSE:RAW=

OBJECT=CNVLOADER
CNVLOADER:TYPE=CNVLOADER

OBJECT=CANVASOBSERVER
CANVASOBSERVER:TYPE=CANVAS_OBSERVER

OBJECT=PATBOARD
PATBOARD:TYPE=PATTERN
PATBOARD:LAYERS=3
PATBOARD:TOCANVAS=TRUE
PATBOARD:VISIBLE=TRUE
PATBOARD:PRIORITY=30
PATBOARD:WIDTH=800
PATBOARD:HEIGHT=3600
PATBOARD:GRIDX=200
PATBOARD:GRIDY=200

OBJECT=KEYBOARD
KEYBOARD:TYPE=KEYBOARD
KEYBOARD:ONKEYUP={VARSTRING0^SET(ANNPLAYER^GETEVENTNAME());@IF(ANNCOLL^ISPLAYING(),"_","FALSE","BFITMP3","");@IF("VARSTRING0^FIND("JUMP")!'-1||VARSTRING0^FIND("KUC")!'-1","BFITMP4","");@IF("VARLADDER","_","0","BFITMP5","BFITMP6");}
KEYBOARD:ONKEYDOWN^UP={VARJUMP^SET(0);}

OBJECT=__INIT__
__INIT__:TYPE=BEHAVIOUR
__INIT__:CODE={KEYBOARD^SETAUTOREPEAT(FALSE);G_AMBIENT^SETAMBIENT("NULL");G_IFLIPPAGE^SET(1);__FLIP__^RUN();G_SLASTOBJECTS^SET("FRED");G_SARCADEOBJECTS^SET("FRED");SCENENAME^SET("FRED");FRED^STARTMUSIC("BAJKI.WAV");FRED^SETMUSICVOLUME(G_ARRSETTINGS^GET(1));G_CURSOR^SETSCENE("FRED");G_MENU^SETSCENE("FRED");G_MENU^SAVESETS();VARENERGIA^SET(200);GROUPNAK^ADD("IMGNAK1","IMGNAK2","IMGNAK3","IMGNAK4","IMGNAK5","IMGNAK6","IMGNAK7","IMGNAK8","IMGNAK9","IMGNAK10","IMGNAK11","IMGNAK12","IMGNAK13","IMGNAK14","IMGNAK15","IMGNAK16","IMGNAK17","IMGNAK18");GROUPNAK^MOVE(0,-3000);ANNELEMENT^CLONE(ANNUKLAD^GETNOFINEVENT(0));ANNELEMENT^MOVE(-200,0);ANNELEMENT^HIDE();CANVASOBSERVER^REMOVE("ANNELEMENT");@LOOP("{ANNUKLAD^SETFRAME(0,_I_);VARSTRING0^SET(["ANNELEMENT_"+[_I_+1]]);VARX^SET([ANNUKLAD^GETCENTERX()@20]);VARY^SET([ANNUKLAD^GETCENTERY()@20]);*VARSTRING0^PLAY(ANNUKLAD^GETFRAMENAME());*VARSTRING0^MOVE(-200,0);PATBOARD^ADD(["E"+_I_],VARX,VARY,VARSTRING0,0);}",0,ANNUKLAD^GETNOFINEVENT(0),1);PATBOARD^MOVE(0,-3000);ANNENEMY^CLONE(ANNEUKLAD^GETNOFINEVENT(0));ANNENEMY^HIDE();CANVASOBSERVER^REMOVE("ANNENEMY");@LOOP("{ANNEUKLAD^SETFRAME(0,_I_);ANNEUKLAD^HIDE();VARSTRING0^SET(["ANNENEMY_"+[_I_+1]]);GROUPENEMY^ADD(VARSTRING0);*VARSTRING0^SETPOSITION(ANNEUKLAD^GETCENTERX(),[ANNEUKLAD^GETCENTERY()-3000]);*VARSTRING0^PLAY(ANNEUKLAD^GETFRAMENAME());}",0,ANNEUKLAD^GETNOFINEVENT(0),1);ANNCOLL^PLAY("ELAPSE");ANNPLAYERPOS^SETANCHOR("LEFTUPPER");ANNPLAYER^PLAY("IDLEL");ANNPLAYER^SETANCHOR("CENTER");ANNPLAYER^MOVE(100,400);VARPLAYERX^SET(175);VARPLAYERY^SET(3450);VARX^SET([VARPLAYERX@50*5]);VARY^SET([VARPLAYERY@50*5]);ANNPLAYERPOS^SETPOSITION(VARX,VARY);}


OBJECT=BEHNEXTMOVE
BEHNEXTMOVE:TYPE=BEHAVIOUR
BEHNEXTMOVE:CODE={@IF("KEYBOARD^ISKEYDOWN("UP")'TRUE&&VARJUMP'0","BFITMP11","");@IF(KEYBOARD^ISKEYDOWN("DOWN"),"_","TRUE","BFITMP16","");@IF(KEYBOARD^ISKEYDOWN("LEFT"),"_","TRUE","BFITMP22","");@IF(KEYBOARD^ISKEYDOWN("RIGHT"),"_","TRUE","BFITMP28","");@IF("VARLADDER","_","0","BFITMP29","BFITMP30");}


OBJECT=BEHMOVEPLAYER
BEHMOVEPLAYER:TYPE=BEHAVIOUR
BEHMOVEPLAYER:CODE={VARX^SET([VARPLAYERX+VARALPHADX@50*5]);VARY^SET([VARPLAYERY+VARALPHADY@50*5]);@IF("VARX'5&&VARY'0","BFITMP31","");VARALPHA^SET(IMGLEVEL^GETALPHA(VARX,VARY));@IF("VARALPHA","_","0","BFITMP33","");VARPLAYERX^ADD(VARDX);VARPLAYERY^ADD(VARDY);ANNPLAYERPOS^SETPOSITION(VARX,VARY);BEHMOVEBKG^RUN();}


OBJECT=BEHMOVEBKG
BEHMOVEBKG:TYPE=BEHAVIOUR
BEHMOVEBKG:CODE={VARINT0^SET([ANNPLAYER^GETCENTERY()+VARDY]);@IF("VARDY","<","0","BFITMP38","BFITMP39");}


OBJECT=BEHENERGIA
BEHENERGIA:TYPE=BEHAVIOUR
BEHENERGIA:CODE={}


OBJECT=_CURSORMOVE_
_CURSORMOVE_:TYPE=BEHAVIOUR
_CURSORMOVE_:CODE={G_CURSOR^SETOBJECT(CANVASOBSERVER^GETGRAPHICSAT(MOUSE^GETPOSX(),MOUSE^GETPOSY(),TRUE,0,5000,TRUE));}


OBJECT=__PAUSEEND__
__PAUSEEND__:TYPE=BEHAVIOUR
__PAUSEEND__:CODE={MOUSE^ENABLESIGNAL();KEYBOARD^ENABLE();ARCADE^STARTMUSIC(VARSMUSIC);ARCADE^SETMUSICVOLUME(G_ARRSETTINGS^GET(1));__GRHELP__^REMOVEALL();}


OBJECT=__PAUSESTART__
__PAUSESTART__:TYPE=BEHAVIOUR
__PAUSESTART__:CODE={SCENENAME^SET(PRZYGODA^GETCURRENTSCENE());MOUSE^DISABLESIGNAL();__KEYB__^SET(KEYBOARD^ISENABLED());KEYBOARD^DISABLE();__HSPOTMAX__^SET(*SCENENAME^GETMAXHSPRIORITY());__HSPOTMIN__^SET(*SCENENAME^GETMINHSPRIORITY());*SCENENAME^GETPLAYINGANIMO("__GRHELP__");}


OBJECT=_LOADGAME_
_LOADGAME_:TYPE=BEHAVIOUR
_LOADGAME_:CODE={@IF(G_ARRDATAS^FIND(G_SARCADEOBJECTS),">","-1","BFITMP40","BFITMP41");}


OBJECT=_NEWGAME_
_NEWGAME_:TYPE=BEHAVIOUR
_NEWGAME_:CODE={S_IHILLNUMBER^SET(0);@IF(G_ARRDATAS^FIND(G_SARCADEOBJECTS),">","-1","BFITMP42","BFITMP43");}


OBJECT=_VOLUME_
_VOLUME_:TYPE=BEHAVIOUR
_VOLUME_:CODE={DIALOGS^SETMUSICVOLUME([0.8*G_ARRSETTINGS^GET(1)]);}


OBJECT=__HELPEND__
__HELPEND__:TYPE=BEHAVIOUR
__HELPEND__:CODE={MOUSE^ENABLESIGNAL();KEYBOARD^ENABLE();CNVLOADER^RELEASE([G_SCUTSCENE+".CNV"]);}


OBJECT=__HELPSTART__
__HELPSTART__:TYPE=BEHAVIOUR
__HELPSTART__:CODE={SCENENAME^SET(PRZYGODA^GETCURRENTSCENE());MOUSE^DISABLESIGNAL();__KEYB__^SET(KEYBOARD^ISENABLED());KEYBOARD^DISABLE();__HSPOTMAX__^SET(*SCENENAME^GETMAXHSPRIORITY());__HSPOTMIN__^SET(*SCENENAME^GETMINHSPRIORITY());*SCENENAME^GETPLAYINGANIMO("__GRHELP__");CNVLOADER^LOAD([G_SCUTSCENE+".CNV"]);}


OBJECT=BFITMP0
BFITMP0:TYPE=BEHAVIOUR
BFITMP0:CODE={SEQNARRATOR^PLAY("KOLIZJA");}


OBJECT=BFITMP1
BFITMP1:TYPE=BEHAVIOUR
BFITMP1:CODE={VARENERGIA^SUB(10);VARENERGIA^CLAMP(0,200);ANNBLINK^PLAY("PLAY");@IF(SEQNARRATOR^ISPLAYING(),"_","FALSE","BFITMP0","");}


OBJECT=BFITMP2
BFITMP2:TYPE=BEHAVIOUR
BFITMP2:CODE={SEQNARRATOR^PLAY(VARSTRING0);}


OBJECT=BFITMP3
BFITMP3:TYPE=BEHAVIOUR
BFITMP3:CODE={@BREAK();}


OBJECT=BFITMP4
BFITMP4:TYPE=BEHAVIOUR
BFITMP4:CODE={@BREAK();}


OBJECT=BFITMP5
BFITMP5:TYPE=BEHAVIOUR
BFITMP5:CODE={ANNPLAYER^PLAY(["IDLE"+VARDIR]);}


OBJECT=BFITMP6
BFITMP6:TYPE=BEHAVIOUR
BFITMP6:CODE={ANNPLAYER^PLAY(["UPIDLE"+VARDIR]);}


OBJECT=BFITMP7
BFITMP7:TYPE=BEHAVIOUR
BFITMP7:CODE={VARDIR^SET("R");}


OBJECT=BFITMP8
BFITMP8:TYPE=BEHAVIOUR
BFITMP8:CODE={VARDIR^SET("L");}


OBJECT=BFITMP9
BFITMP9:TYPE=BEHAVIOUR
BFITMP9:CODE={@IF([VARINT0@50*50],">",ANNPLAYER^GETCENTERX(),"BFITMP7","BFITMP8");VARLADDER^SET(1);ANNPLAYER^PLAY(["UP"+VARDIR]);}


OBJECT=BFITMP10
BFITMP10:TYPE=BEHAVIOUR
BFITMP10:CODE={VARLADDER^SET(0);ANNPLAYER^PLAY(["JUMP"+VARDIR]);}


OBJECT=BFITMP11
BFITMP11:TYPE=BEHAVIOUR
BFITMP11:CODE={VARX^SET([VARPLAYERX @ 50*5]);VARY^SET([VARPLAYERY-4 @ 50*5]);VARINT0^SET([VARPLAYERX @ 50*50]);@IF(IMGLEVEL^GETALPHA(VARX,VARY),"!_","0","BFITMP9","BFITMP10");@BREAK();}


OBJECT=BFITMP12
BFITMP12:TYPE=BEHAVIOUR
BFITMP12:CODE={VARDIR^SET("R");}


OBJECT=BFITMP13
BFITMP13:TYPE=BEHAVIOUR
BFITMP13:CODE={VARDIR^SET("L");}


OBJECT=BFITMP14
BFITMP14:TYPE=BEHAVIOUR
BFITMP14:CODE={@IF("VARINT0",">",ANNPLAYER^GETCENTERX(),"BFITMP12","BFITMP13");VARLADDER^SET(1);ANNPLAYER^PLAY(["DOWN"+VARDIR]);}


OBJECT=BFITMP15
BFITMP15:TYPE=BEHAVIOUR
BFITMP15:CODE={VARLADDER^SET(0);ANNPLAYER^PLAY(["KUC"+VARDIR]);}


OBJECT=BFITMP16
BFITMP16:TYPE=BEHAVIOUR
BFITMP16:CODE={VARX^SET([VARPLAYERX @ 50*5]);VARY^SET([VARPLAYERY+50 @ 50*5]);VARINT0^SET([VARPLAYERX @ 50*50]);@IF(IMGLEVEL^GETALPHA(VARX,VARY),"!_","0","BFITMP14","BFITMP15");@BREAK();}


OBJECT=BFITMP17
BFITMP17:TYPE=BEHAVIOUR
BFITMP17:CODE={VARDIR^SET("R");VARPLAYERX^ADD(VARX);ANNPLAYER^MOVE(VARX,0);}


OBJECT=BFITMP18
BFITMP18:TYPE=BEHAVIOUR
BFITMP18:CODE={VARX^SET([VARPLAYERX @ 50*50]);VARX^SUB(ANNPLAYER^GETCENTERX());VARSTRING0^SET(ANNPLAYER^GETEVENTNAME());VARSTRING1^SET(VARSTRING0^GET(0,[VARSTRING0^LENGTH()-1]));VARSTRING0^SET(VARSTRING0^GET([VARSTRING0^LENGTH()-1],1));@IF("VARSTRING0","_",""L"","BFITMP17","");ANNPLAYER^PLAY([VARSTRING1+"R"]);}


OBJECT=BFITMP19
BFITMP19:TYPE=BEHAVIOUR
BFITMP19:CODE={VARDIR^SET("L");VARLADDER^SET(0);ANNPLAYER^PLAY("LEFT");}


OBJECT=BFITMP20
BFITMP20:TYPE=BEHAVIOUR
BFITMP20:CODE={VARDIR^SET("L");ANNPLAYER^PLAY("LEFT");}


OBJECT=BFITMP21
BFITMP21:TYPE=BEHAVIOUR
BFITMP21:CODE={VARX^SET([VARPLAYERX-25 @ 50*5]);VARY^SET([VARPLAYERY+40 @ 50*5]);@IF("IMGLEVEL^GETALPHA(VARX,VARY)'0||VARDIR'"L"","BFITMP18","BFITMP19");}


OBJECT=BFITMP22
BFITMP22:TYPE=BEHAVIOUR
BFITMP22:CODE={@IF("VARLADDER","_","0","BFITMP20","BFITMP21");@BREAK();}


OBJECT=BFITMP23
BFITMP23:TYPE=BEHAVIOUR
BFITMP23:CODE={VARDIR^SET("L");VARPLAYERX^ADD(VARX);ANNPLAYER^MOVE(VARX,0);}


OBJECT=BFITMP24
BFITMP24:TYPE=BEHAVIOUR
BFITMP24:CODE={VARX^SET([VARPLAYERX @ 50*50]);VARX^SUB(ANNPLAYER^GETCENTERX());VARSTRING0^SET(ANNPLAYER^GETEVENTNAME());VARSTRING1^SET(VARSTRING0^GET(0,[VARSTRING0^LENGTH()-1]));VARSTRING0^SET(VARSTRING0^GET([VARSTRING0^LENGTH()-1],1));@IF("VARSTRING0","_",""R"","BFITMP23","");ANNPLAYER^PLAY([VARSTRING1+"L"]);}


OBJECT=BFITMP25
BFITMP25:TYPE=BEHAVIOUR
BFITMP25:CODE={VARDIR^SET("R");VARLADDER^SET(0);ANNPLAYER^PLAY("RIGHT");}


OBJECT=BFITMP26
BFITMP26:TYPE=BEHAVIOUR
BFITMP26:CODE={VARDIR^SET("R");ANNPLAYER^PLAY("RIGHT");}


OBJECT=BFITMP27
BFITMP27:TYPE=BEHAVIOUR
BFITMP27:CODE={VARX^SET([VARPLAYERX+25 @ 50*5]);VARY^SET([VARPLAYERY+40 @ 50*5]);@IF("IMGLEVEL^GETALPHA(VARX,VARY)'0||VARDIR'"R"","BFITMP24","BFITMP25");}


OBJECT=BFITMP28
BFITMP28:TYPE=BEHAVIOUR
BFITMP28:CODE={@IF("VARLADDER","_","0","BFITMP26","BFITMP27");@BREAK();}


OBJECT=BFITMP29
BFITMP29:TYPE=BEHAVIOUR
BFITMP29:CODE={ANNPLAYER^PLAY(["IDLE"+VARDIR]);}


OBJECT=BFITMP30
BFITMP30:TYPE=BEHAVIOUR
BFITMP30:CODE={ANNPLAYER^PLAY(["UPIDLE"+VARDIR]);}


OBJECT=BFITMP31
BFITMP31:TYPE=BEHAVIOUR
BFITMP31:CODE={ANNPLAYER^STOP(FALSE);G_SARCADEOBJECTS^SET("KROLOWA");__SCREENSHOT__^RUN();PRZYGODA^GOTO("ARCADE");@BREAK();}


OBJECT=BFITMP32
BFITMP32:TYPE=BEHAVIOUR
BFITMP32:CODE={ANNPLAYER^PLAY(["IDLE"+VARDIR]);}


OBJECT=BFITMP33
BFITMP33:TYPE=BEHAVIOUR
BFITMP33:CODE={VARLADDER^SET(0);VARJUMP^SET(1);VARSTRING0^SET(ANNPLAYER^GETEVENTNAME());@IF(VARSTRING0^FIND("JUMP"),"_","-1","BFITMP32","");@BREAK();}


OBJECT=BFITMP34
BFITMP34:TYPE=BEHAVIOUR
BFITMP34:CODE={VARSCROLL^SUB(VARDY);GROUPENEMY^MOVE(0,[0-VARDY]);GROUPNAK^MOVE(0,[0-VARDY]);ANNPLAYER^MOVE(VARDX,0);PATBOARD^MOVE(0,[0-VARDY]);}


OBJECT=BFITMP35
BFITMP35:TYPE=BEHAVIOUR
BFITMP35:CODE={ANNPLAYER^MOVE(VARDX,VARDY);}


OBJECT=BFITMP36
BFITMP36:TYPE=BEHAVIOUR
BFITMP36:CODE={VARSCROLL^SUB(VARDY);GROUPENEMY^MOVE(0,[0-VARDY]);GROUPNAK^MOVE(0,[0-VARDY]);ANNPLAYER^MOVE(VARDX,0);PATBOARD^MOVE(0,[0-VARDY]);}


OBJECT=BFITMP37
BFITMP37:TYPE=BEHAVIOUR
BFITMP37:CODE={ANNPLAYER^MOVE(VARDX,VARDY);}


OBJECT=BFITMP38
BFITMP38:TYPE=BEHAVIOUR
BFITMP38:CODE={@IF("VARINT0<200&&[VARSCROLL-VARDY]<3000","BFITMP34","BFITMP35");}


OBJECT=BFITMP39
BFITMP39:TYPE=BEHAVIOUR
BFITMP39:CODE={@IF("VARINT0>400&&[VARSCROLL-VARDY]>0","BFITMP36","BFITMP37");}


OBJECT=BFITMP40
BFITMP40:TYPE=BEHAVIOUR
BFITMP40:CODE={PRZYGODA^GOTO("ARCADE");@BREAK();}


OBJECT=BFITMP41
BFITMP41:TYPE=BEHAVIOUR
BFITMP41:CODE={PRZYGODA^GOTO(G_SARCADEOBJECTS);@BREAK();}


OBJECT=BFITMP42
BFITMP42:TYPE=BEHAVIOUR
BFITMP42:CODE={PRZYGODA^GOTO("ARCADE");@BREAK();}


OBJECT=BFITMP43
BFITMP43:TYPE=BEHAVIOUR
BFITMP43:CODE={PRZYGODA^GOTO(G_SARCADEOBJECTS);@BREAK();}


