OBJECT=MUSIC
MUSIC:TYPE=MUSIC
MUSIC:FILENAME=BAJKI.WAV

#PATCH
OBJECT=VARBTN
VARBTN:TYPE=STRING
VARBTN:ONCHANGED^NULL={VARINT0^SET(0);}
VARBTN:ONCHANGED={@IF("VARDRAGGING","_","0","BFITMP1","");}

OBJECT=VARINT0
VARINT0:TYPE=INTEGER

OBJECT=VARINT1
VARINT1:TYPE=INTEGER

OBJECT=VARINT3
VARINT3:TYPE=INTEGER

OBJECT=VARINT4
VARINT4:TYPE=INTEGER

OBJECT=VARSTRING0
VARSTRING0:TYPE=STRING

OBJECT=VARSTRING1
VARSTRING1:TYPE=STRING

OBJECT=VARSTRING2
VARSTRING2:TYPE=STRING

OBJECT=VARSTRING3
VARSTRING3:TYPE=STRING

OBJECT=VARSTRING4
VARSTRING4:TYPE=STRING

OBJECT=VARPOSX
VARPOSX:TYPE=INTEGER

OBJECT=VARPOSY
VARPOSY:TYPE=INTEGER

OBJECT=VARDRAGGING
VARDRAGGING:TYPE=INTEGER
VARDRAGGING:VALUE=0

OBJECT=VARKUBEK
VARKUBEK:TYPE=INTEGER

OBJECT=VARMONETA
VARMONETA:TYPE=INTEGER

OBJECT=VARLAYER
VARLAYER:TYPE=INTEGER

OBJECT=ANNKUBEK0
ANNKUBEK0:TYPE=ANIMO
ANNKUBEK0:VISIBLE=TRUE
ANNKUBEK0:FILENAME=KUBEK0.ANN
ANNKUBEK0:TOCANVAS=TRUE
ANNKUBEK0:PRIORITY=0
ANNKUBEK0:FPS=16
ANNKUBEK0:PRELOAD=TRUE
ANNKUBEK0:RELEASE=TRUE
ANNKUBEK0:MONITORCOLLISION=FALSE
ANNKUBEK0:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNKUBEK1
ANNKUBEK1:TYPE=ANIMO
ANNKUBEK1:VISIBLE=TRUE
ANNKUBEK1:FILENAME=KUBEK1.ANN
ANNKUBEK1:TOCANVAS=TRUE
ANNKUBEK1:PRIORITY=0
ANNKUBEK1:FPS=16
ANNKUBEK1:PRELOAD=TRUE
ANNKUBEK1:RELEASE=TRUE
ANNKUBEK1:MONITORCOLLISION=FALSE
ANNKUBEK1:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNKUBEK2
ANNKUBEK2:TYPE=ANIMO
ANNKUBEK2:VISIBLE=TRUE
ANNKUBEK2:FILENAME=KUBEK2.ANN
ANNKUBEK2:TOCANVAS=TRUE
ANNKUBEK2:PRIORITY=0
ANNKUBEK2:FPS=16
ANNKUBEK2:PRELOAD=TRUE
ANNKUBEK2:RELEASE=TRUE
ANNKUBEK2:MONITORCOLLISION=FALSE
ANNKUBEK2:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNDRAGKUBEK0
ANNDRAGKUBEK0:TYPE=ANIMO
ANNDRAGKUBEK0:VISIBLE=FALSE
ANNDRAGKUBEK0:FILENAME=DRAGKUBEK0.ANN
ANNDRAGKUBEK0:TOCANVAS=TRUE
ANNDRAGKUBEK0:PRIORITY=10
ANNDRAGKUBEK0:FPS=16
ANNDRAGKUBEK0:PRELOAD=TRUE
ANNDRAGKUBEK0:RELEASE=TRUE
ANNDRAGKUBEK0:MONITORCOLLISION=FALSE
ANNDRAGKUBEK0:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNDRAGKUBEK1
ANNDRAGKUBEK1:TYPE=ANIMO
ANNDRAGKUBEK1:VISIBLE=FALSE
ANNDRAGKUBEK1:FILENAME=DRAGKUBEK1.ANN
ANNDRAGKUBEK1:TOCANVAS=TRUE
ANNDRAGKUBEK1:PRIORITY=10
ANNDRAGKUBEK1:FPS=16
ANNDRAGKUBEK1:PRELOAD=TRUE
ANNDRAGKUBEK1:RELEASE=TRUE
ANNDRAGKUBEK1:MONITORCOLLISION=FALSE
ANNDRAGKUBEK1:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNDRAGKUBEK2
ANNDRAGKUBEK2:TYPE=ANIMO
ANNDRAGKUBEK2:VISIBLE=FALSE
ANNDRAGKUBEK2:FILENAME=DRAGKUBEK2.ANN
ANNDRAGKUBEK2:TOCANVAS=TRUE
ANNDRAGKUBEK2:PRIORITY=10
ANNDRAGKUBEK2:FPS=16
ANNDRAGKUBEK2:PRELOAD=TRUE
ANNDRAGKUBEK2:RELEASE=TRUE
ANNDRAGKUBEK2:MONITORCOLLISION=FALSE
ANNDRAGKUBEK2:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNMONETA0
ANNMONETA0:TYPE=ANIMO
ANNMONETA0:VISIBLE=TRUE
ANNMONETA0:FILENAME=MONETA0.ANN
ANNMONETA0:TOCANVAS=TRUE
ANNMONETA0:PRIORITY=11
ANNMONETA0:FPS=16
ANNMONETA0:PRELOAD=TRUE
ANNMONETA0:RELEASE=TRUE
ANNMONETA0:MONITORCOLLISION=FALSE
ANNMONETA0:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNMONETA1
ANNMONETA1:TYPE=ANIMO
ANNMONETA1:VISIBLE=TRUE
ANNMONETA1:FILENAME=MONETA1.ANN
ANNMONETA1:TOCANVAS=TRUE
ANNMONETA1:PRIORITY=11
ANNMONETA1:FPS=16
ANNMONETA1:PRELOAD=TRUE
ANNMONETA1:RELEASE=TRUE
ANNMONETA1:MONITORCOLLISION=FALSE
ANNMONETA1:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNMONETA2
ANNMONETA2:TYPE=ANIMO
ANNMONETA2:VISIBLE=TRUE
ANNMONETA2:FILENAME=MONETA2.ANN
ANNMONETA2:TOCANVAS=TRUE
ANNMONETA2:PRIORITY=11
ANNMONETA2:FPS=16
ANNMONETA2:PRELOAD=TRUE
ANNMONETA2:RELEASE=TRUE
ANNMONETA2:MONITORCOLLISION=FALSE
ANNMONETA2:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGBACKSTD
IMGBACKSTD:TYPE=IMAGE
IMGBACKSTD:VISIBLE=TRUE
IMGBACKSTD:FILENAME=BACKSTD.IMG
IMGBACKSTD:TOCANVAS=TRUE
IMGBACKSTD:PRIORITY=0
IMGBACKSTD:PRELOAD=TRUE
IMGBACKSTD:RELEASE=TRUE
IMGBACKSTD:MONITORCOLLISION=FALSE
IMGBACKSTD:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGBACKOM
IMGBACKOM:TYPE=IMAGE
IMGBACKOM:VISIBLE=TRUE
IMGBACKOM:FILENAME=BACKOM.IMG
IMGBACKOM:TOCANVAS=TRUE
IMGBACKOM:PRIORITY=0
IMGBACKOM:PRELOAD=TRUE
IMGBACKOM:RELEASE=TRUE
IMGBACKOM:MONITORCOLLISION=FALSE
IMGBACKOM:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGBACKOC
IMGBACKOC:TYPE=IMAGE
IMGBACKOC:VISIBLE=TRUE
IMGBACKOC:FILENAME=BACKOC.IMG
IMGBACKOC:TOCANVAS=TRUE
IMGBACKOC:PRIORITY=0
IMGBACKOC:PRELOAD=TRUE
IMGBACKOC:RELEASE=TRUE
IMGBACKOC:MONITORCOLLISION=FALSE
IMGBACKOC:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGFIELD0
IMGFIELD0:TYPE=IMAGE
IMGFIELD0:VISIBLE=FALSE
IMGFIELD0:FILENAME=FIELD0.IMG
IMGFIELD0:TOCANVAS=TRUE
IMGFIELD0:PRIORITY=100
IMGFIELD0:PRELOAD=TRUE
IMGFIELD0:RELEASE=TRUE
IMGFIELD0:MONITORCOLLISION=FALSE
IMGFIELD0:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGFIELD1
IMGFIELD1:TYPE=IMAGE
IMGFIELD1:VISIBLE=FALSE
IMGFIELD1:FILENAME=FIELD1.IMG
IMGFIELD1:TOCANVAS=TRUE
IMGFIELD1:PRIORITY=100
IMGFIELD1:PRELOAD=TRUE
IMGFIELD1:RELEASE=TRUE
IMGFIELD1:MONITORCOLLISION=FALSE
IMGFIELD1:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGFIELD2
IMGFIELD2:TYPE=IMAGE
IMGFIELD2:VISIBLE=FALSE
IMGFIELD2:FILENAME=FIELD2.IMG
IMGFIELD2:TOCANVAS=TRUE
IMGFIELD2:PRIORITY=100
IMGFIELD2:PRELOAD=TRUE
IMGFIELD2:RELEASE=TRUE
IMGFIELD2:MONITORCOLLISION=FALSE
IMGFIELD2:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGMONFIELD0
IMGMONFIELD0:TYPE=IMAGE
IMGMONFIELD0:VISIBLE=FALSE
IMGMONFIELD0:FILENAME=MFIELD0.IMG
IMGMONFIELD0:TOCANVAS=TRUE
IMGMONFIELD0:PRIORITY=50
IMGMONFIELD0:PRELOAD=TRUE
IMGMONFIELD0:RELEASE=TRUE
IMGMONFIELD0:MONITORCOLLISION=FALSE
IMGMONFIELD0:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGMONFIELD1
IMGMONFIELD1:TYPE=IMAGE
IMGMONFIELD1:VISIBLE=FALSE
IMGMONFIELD1:FILENAME=MFIELD1.IMG
IMGMONFIELD1:TOCANVAS=TRUE
IMGMONFIELD1:PRIORITY=50
IMGMONFIELD1:PRELOAD=TRUE
IMGMONFIELD1:RELEASE=TRUE
IMGMONFIELD1:MONITORCOLLISION=FALSE
IMGMONFIELD1:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGMONFIELD2
IMGMONFIELD2:TYPE=IMAGE
IMGMONFIELD2:VISIBLE=FALSE
IMGMONFIELD2:FILENAME=MFIELD2.IMG
IMGMONFIELD2:TOCANVAS=TRUE
IMGMONFIELD2:PRIORITY=50
IMGMONFIELD2:PRELOAD=TRUE
IMGMONFIELD2:RELEASE=TRUE
IMGMONFIELD2:MONITORCOLLISION=FALSE
IMGMONFIELD2:MONITORCOLLISIONALPHA=FALSE

OBJECT=BTNBACK
BTNBACK:TYPE=BUTTON
BTNBACK:VISIBLE=TRUE
BTNBACK:ENABLE=TRUE
BTNBACK:DRAGGABLE=FALSE
BTNBACK:GFXSTANDARD=IMGBACKSTD
BTNBACK:GFXONCLICK=IMGBACKOC
BTNBACK:GFXONMOVE=IMGBACKOM
BTNBACK:ONRELEASED={__SCREENSHOT__^RUN();G_SLASTOBJECTS^SET("KUBKI_FAILED");G_SARCADEOBJECTS^SET("SEZAM");PRZYGODA^GOTO("ARCADE");}

OBJECT=BTNKUBEK
BTNKUBEK:TYPE=BUTTON
BTNKUBEK:VISIBLE=TRUE
BTNKUBEK:ENABLE=TRUE
BTNKUBEK:DRAGGABLE=TRUE
BTNKUBEK:ONSTARTDRAGGING={VARDRAGGING^SET(1);VARSTRING0^SET(["ANNKUBEK"+VARKUBEK]);VARSTRING1^SET(["ANNDRAGKUBEK"+VARKUBEK]);VARINT0^SET(*VARSTRING0^GETFRAMENAME());VARINT0^DEC();VARPOSX^SET(*VARSTRING1^GETCENTERX());VARPOSY^SET(*VARSTRING1^GETCENTERY());ARRAYMONDRAG^REMOVEALL();VARINT1^SET(0);@LOOP("{VARSTRING2^SET(["ARRAYMONETA"+_I_]);VARSTRING3^SET(["BTNMONETA"+_I_]);@IF(*VARSTRING2^GET(0),"_","VARKUBEK","BFITMP3","");}",0,3,1);*VARSTRING0^SETFRAME("PLAY",VARINT0);*VARSTRING1^SETFRAME("PLAY",VARINT1);VARINT0^SET(0);BEHUPDATEKUBEK^RUN();VARINT0^SET(1);BEHUPDATEKUBEK^RUN();VARINT0^SET(2);BEHUPDATEKUBEK^RUN();}
BTNKUBEK:ONENDDRAGGING={VARDRAGGING^SET(0);VARSTRING1^SET(CANVASOBSERVER^GETGRAPHICSAT(MOUSE^GETPOSX(),MOUSE^GETPOSY(),FALSE,100,100,TRUE));*["ANNDRAGKUBEK"+VARKUBEK]^SETFRAME("PLAY",0);*["ANNDRAGKUBEK"+VARKUBEK]^SETPOSITION(VARPOSX,VARPOSY);*["ANNDRAGKUBEK"+VARKUBEK]^HIDE();BTNKUBEK^SETSTD("NULL",FALSE);@IF("VARSTRING1","_",""NULL"","BFITMP4","BFITMP5");VARINT0^SET(0);BEHUPDATEKUBEK^RUN();VARINT0^SET(1);BEHUPDATEKUBEK^RUN();VARINT0^SET(2);BEHUPDATEKUBEK^RUN();BEHCHECK^RUN();}

OBJECT=BTNMONETA0
BTNMONETA0:TYPE=BUTTON
BTNMONETA0:VISIBLE=TRUE
BTNMONETA0:ENABLE=TRUE
BTNMONETA0:DRAGGABLE=TRUE
BTNMONETA0:GFXSTANDARD=ANNMONETA0
BTNMONETA0:ONSTARTDRAGGING={VARMONETA^SET(0);BEHSTARTDRAGMONETA^RUN();}
BTNMONETA0:ONENDDRAGGING={VARMONETA^SET(0);BEHENDDRAGMONETA^RUN();}

OBJECT=BTNMONETA1
BTNMONETA1:TYPE=BUTTON
BTNMONETA1:VISIBLE=TRUE
BTNMONETA1:ENABLE=TRUE
BTNMONETA1:DRAGGABLE=TRUE
BTNMONETA1:GFXSTANDARD=ANNMONETA1
BTNMONETA1:ONSTARTDRAGGING={VARMONETA^SET(1);BEHSTARTDRAGMONETA^RUN();}
BTNMONETA1:ONENDDRAGGING={VARMONETA^SET(1);BEHENDDRAGMONETA^RUN();}

OBJECT=BTNMONETA2
BTNMONETA2:TYPE=BUTTON
BTNMONETA2:VISIBLE=TRUE
BTNMONETA2:ENABLE=TRUE
BTNMONETA2:DRAGGABLE=TRUE
BTNMONETA2:GFXSTANDARD=ANNMONETA2
BTNMONETA2:ONSTARTDRAGGING={VARMONETA^SET(2);BEHSTARTDRAGMONETA^RUN();}
BTNMONETA2:ONENDDRAGGING={VARMONETA^SET(2);BEHENDDRAGMONETA^RUN();}

OBJECT=TEXT
TEXT:TYPE=TEXT
TEXT:VISIBLE=TRUE
TEXT:HYPERTEXT=
TEXT:FONT=FONT
TEXT:TOCANVAS=TRUE
TEXT:RECT=10,10,310,30
TEXT:PRIORITY=1000
TEXT:HJUSTIFY=LEFT
TEXT:VJUSTIFY=TRUE
TEXT:MONITORCOLLISION=FALSE
TEXT:MONITORCOLLISIONALPHA=FALSE

OBJECT=SEQKUBKI
SEQKUBKI:TYPE=SEQUENCE
SEQKUBKI:FILENAME=SEQKUBKI.SEQ
SEQKUBKI:ONFINISHED^SUKCES={__SCREENSHOT__^RUN();G_SLASTOBJECTS^SET("KUBKI");G_SARCADEOBJECTS^SET("SEZAM");PRZYGODA^GOTO("ARCADE");}

OBJECT=TIMERSEQ
TIMERSEQ:TYPE=TIMER
TIMERSEQ:ENABLED=TRUE
TIMERSEQ:ELAPSE=10000
TIMERSEQ:TICKS=0
TIMERSEQ:ONTICK={@IF(SEQKUBKI^ISPLAYING(),"_","FALSE","BFITMP6","");TIMERSEQ^SETELAPSE(RANDOM^GET(15000,5000));}

OBJECT=FONT
FONT:TYPE=FONT
FONT:DEF_ARIAL_STANDARD_14=ARIAL14.FNT

OBJECT=ARRAYKUBEK
ARRAYKUBEK:TYPE=ARRAY

OBJECT=ARRAYMONETA0
ARRAYMONETA0:TYPE=ARRAY

OBJECT=ARRAYMONETA1
ARRAYMONETA1:TYPE=ARRAY

OBJECT=ARRAYMONETA2
ARRAYMONETA2:TYPE=ARRAY

OBJECT=ARRAYMONDRAG
ARRAYMONDRAG:TYPE=ARRAY

OBJECT=ARRAYKUBEK0
ARRAYKUBEK0:TYPE=ARRAY

OBJECT=ARRAYKUBEK1
ARRAYKUBEK1:TYPE=ARRAY

OBJECT=ARRAYKUBEK2
ARRAYKUBEK2:TYPE=ARRAY

OBJECT=ARRAYMON0_START
ARRAYMON0_START:TYPE=ARRAY

OBJECT=ARRAYMON1_START
ARRAYMON1_START:TYPE=ARRAY

OBJECT=ARRAYMON2_START
ARRAYMON2_START:TYPE=ARRAY

OBJECT=ARRAYHEIGHT
ARRAYHEIGHT:TYPE=ARRAY

OBJECT=MOUSE
MOUSE:TYPE=MOUSE
MOUSE:RAW=
MOUSE:ONMOVE={VARBTN^SET(CANVASOBSERVER^GETGRAPHICSAT(MOUSE^GETPOSX(),MOUSE^GETPOSY(),FALSE,10,10,TRUE));}

OBJECT=CNVLOADER
CNVLOADER:TYPE=CNVLOADER

OBJECT=CANVASOBSERVER
CANVASOBSERVER:TYPE=CANVAS_OBSERVER

OBJECT=KEYBOARD
KEYBOARD:TYPE=KEYBOARD

OBJECT=__INIT__
__INIT__:TYPE=BEHAVIOUR
__INIT__:CODE={G_IFLIPPAGE^SET(1);__FLIP__^RUN();G_AMBIENT^SETAMBIENT("NULL");G_SLASTOBJECTS^SET("KUBKI");G_SARCADEOBJECTS^SET("KUBKI");SCENENAME^SET("KUBKI");G_CURSOR^SETSCENE("KUBKI");G_MENU^SETSCENE("KUBKI");G_MENU^SAVESETS();KUBKI^STARTMUSIC("BAJKI.WAV");KUBKI^SETMUSICVOLUME(G_ARRSETTINGS^GET(1));ANNKUBEK0^SETFRAME("PLAY",1);ANNKUBEK1^SETFRAME("PLAY",1);ANNKUBEK2^SETFRAME("PLAY",1);ANNDRAGKUBEK0^SETANCHOR("CENTER");ANNDRAGKUBEK1^SETANCHOR("CENTER");ANNDRAGKUBEK2^SETANCHOR("CENTER");ANNMONETA0^SETANCHOR("CENTER");ANNMONETA1^SETANCHOR("CENTER");ANNMONETA2^SETANCHOR("CENTER");ARRAYMONETA0^ADD(-1,-1);ARRAYMONETA1^ADD(-1,-1);ARRAYMONETA2^ADD(-1,-1);ARRAYHEIGHT^ADD(0,0,-1,-1);ARRAYKUBEK0^ADD(IMGMONFIELD0^GETPOSITIONX(),IMGMONFIELD0^GETPOSITIONY());ARRAYKUBEK1^ADD([IMGMONFIELD1^GETPOSITIONX()-4],[IMGMONFIELD1^GETPOSITIONY()-3]);ARRAYKUBEK2^ADD(IMGMONFIELD2^GETPOSITIONX(),[IMGMONFIELD2^GETPOSITIONY()-4]);ARRAYMON0_START^ADD(ANNMONETA0^GETCENTERX(),ANNMONETA0^GETCENTERY());ARRAYMON1_START^ADD(ANNMONETA1^GETCENTERX(),ANNMONETA1^GETCENTERY());ARRAYMON2_START^ADD(ANNMONETA2^GETCENTERX(),ANNMONETA2^GETCENTERY());SEQKUBKI^PLAY("INTRO");}


OBJECT=BEHSTARTDRAGMONETA
BEHSTARTDRAGMONETA:TYPE=BEHAVIOUR
BEHSTARTDRAGMONETA:CODE={VARSTRING0^SET(["ANNMONETA"+VARMONETA]);VARPOSX^SET(*VARSTRING0^GETCENTERX());VARPOSY^SET(*VARSTRING0^GETCENTERY());VARDRAGGING^SET(1);}


OBJECT=BEHENDDRAGMONETA
BEHENDDRAGMONETA:TYPE=BEHAVIOUR
BEHENDDRAGMONETA:CODE={VARDRAGGING^SET(0);VARSTRING1^SET(CANVASOBSERVER^GETGRAPHICSAT(MOUSE^GETPOSX(),MOUSE^GETPOSY(),FALSE,50,50,FALSE));@IF("VARSTRING1","_",""NULL"","BFITMP8","BFITMP9");VARINT0^SET(0);BEHUPDATEKUBEK^RUN();VARINT0^SET(1);BEHUPDATEKUBEK^RUN();VARINT0^SET(2);BEHUPDATEKUBEK^RUN();BEHCHECK^RUN();}


OBJECT=BEHUPDATEKUBEK
BEHUPDATEKUBEK:TYPE=BEHAVIOUR
BEHUPDATEKUBEK:CODE={VARSTRING0^SET(["ANNKUBEK"+VARINT0]);ARRAYKUBEK^REMOVEALL();ARRAYKUBEK^ADD(0,0,0,0);VARLAYER^SET(*VARSTRING0^GETFRAMENAME());@LOOP("{VARSTRING1^SET(["ARRAYMONETA"+_I_]);VARSTRING3^SET(["ANNMONETA"+_I_]);VARSTRING4^SET(["BTNMONETA"+_I_]);@IF(*VARSTRING1^GET(0),"_","VARINT0","BFITMP12","");}",0,3,1);}


OBJECT=BEHCHECK
BEHCHECK:TYPE=BEHAVIOUR
BEHCHECK:CODE={VARINT0^SET(-1);@LOOP("{VARSTRING0^SET(["ANNKUBEK"+_I_]);@IF(*VARSTRING0^GETFRAMENAME(),"_",""3"","BFITMP13","");}",0,3,1);@IF("VARINT0","_","-1","BFITMP14","");@LOOP("{VARSTRING0^SET(["ARRAYMONETA"+_I_]);@IF(*VARSTRING0^GET(0),"!_","VARINT0","BFITMP16","BFITMP17");}",0,3,1);SEQKUBKI^PLAY("SUKCES");}


OBJECT=_CURSORMOVE_
_CURSORMOVE_:TYPE=BEHAVIOUR
_CURSORMOVE_:CODE={G_CURSOR^SETOBJECT(CANVASOBSERVER^GETGRAPHICSAT(MOUSE^GETPOSX(),MOUSE^GETPOSY(),TRUE,0,5000,TRUE));}


OBJECT=__PAUSEEND__
__PAUSEEND__:TYPE=BEHAVIOUR
__PAUSEEND__:CODE={MOUSE^ENABLESIGNAL();KEYBOARD^ENABLE();ARCADE^STARTMUSIC(VARSMUSIC);ARCADE^SETMUSICVOLUME(G_ARRSETTINGS^GET(1));__GRHELP__^REMOVEALL();}


OBJECT=__PAUSESTART__
__PAUSESTART__:TYPE=BEHAVIOUR
__PAUSESTART__:CODE={SCENENAME^SET(PRZYGODA^GETCURRENTSCENE());MOUSE^DISABLESIGNAL();__KEYB__^SET(KEYBOARD^ISENABLED());KEYBOARD^DISABLE();__HSPOTMAX__^SET(*SCENENAME^GETMAXHSPRIORITY());__HSPOTMIN__^SET(*SCENENAME^GETMINHSPRIORITY());*SCENENAME^GETPLAYINGANIMO("__GRHELP__");}


OBJECT=_LOADGAME_
_LOADGAME_:TYPE=BEHAVIOUR
_LOADGAME_:CODE={S_IHILLNUMBER^SET(0);@IF(G_ARRDATAS^FIND(G_SARCADEOBJECTS),">","-1","BFITMP18","BFITMP19");}


OBJECT=_NEWGAME_
_NEWGAME_:TYPE=BEHAVIOUR
_NEWGAME_:CODE={S_IHILLNUMBER^SET(0);@IF(G_ARRDATAS^FIND(G_SARCADEOBJECTS),">","-1","BFITMP20","BFITMP21");}


OBJECT=_VOLUME_
_VOLUME_:TYPE=BEHAVIOUR
_VOLUME_:CODE={DIALOGS^SETMUSICVOLUME([0.8*G_ARRSETTINGS^GET(1)]);}


OBJECT=__HELPEND__
__HELPEND__:TYPE=BEHAVIOUR
__HELPEND__:CODE={MOUSE^ENABLESIGNAL();@IF("__KEYB__","_","TRUE","BFITMP22","BFITMP23");CNVLOADER^RELEASE([G_SCUTSCENE+".CNV"]);}


OBJECT=__HELPSTART__
__HELPSTART__:TYPE=BEHAVIOUR
__HELPSTART__:CODE={SCENENAME^SET(PRZYGODA^GETCURRENTSCENE());MOUSE^DISABLESIGNAL();__KEYB__^SET(KEYBOARD^ISENABLED());KEYBOARD^DISABLE();__HSPOTMAX__^SET(*SCENENAME^GETMAXHSPRIORITY());__HSPOTMIN__^SET(*SCENENAME^GETMINHSPRIORITY());*SCENENAME^GETPLAYINGANIMO("__GRHELP__");CNVLOADER^LOAD([G_SCUTSCENE+".CNV"]);}


OBJECT=BFITMP0
BFITMP0:TYPE=BEHAVIOUR
BFITMP0:CODE={BTNKUBEK^SETSTD(VARBTN,FALSE);}


OBJECT=BFITMP1
BFITMP1:TYPE=BEHAVIOUR
BFITMP1:CODE={VARKUBEK^SET(VARBTN^GET(12));VARSTRING0^SET(["ANNKUBEK"+VARKUBEK]);@IF(*VARSTRING0^GETFRAMENAME(),">","0","BFITMP0","");}


OBJECT=BFITMP2
BFITMP2:TYPE=BEHAVIOUR
BFITMP2:CODE={VARINT1^INC();*VARSTRING2^CHANGEAT(0,-1);*VARSTRING2^CHANGEAT(1,-1);*VARSTRING3^DISABLE();ARRAYMONDRAG^ADD(_I_);}


OBJECT=BFITMP3
BFITMP3:TYPE=BEHAVIOUR
BFITMP3:CODE={@IF(*VARSTRING2^GET(1),"_",[VARINT0+1],"BFITMP2","");}


OBJECT=BFITMP4
BFITMP4:TYPE=BEHAVIOUR
BFITMP4:CODE={VARSTRING0^SET(["ANNKUBEK"+VARKUBEK]);VARINT0^SET(*VARSTRING0^GETFRAMENAME());VARINT0^INC();*VARSTRING0^SETFRAME("PLAY",VARINT0);@LOOP("{VARSTRING2^SET(["ARRAYMONETA"+ARRAYMONDRAG^GET(_I_)]);*VARSTRING2^CHANGEAT(0,VARKUBEK);*VARSTRING2^CHANGEAT(1,VARINT0);}",0,ARRAYMONDRAG^GETSIZE(),1);}


OBJECT=BFITMP5
BFITMP5:TYPE=BEHAVIOUR
BFITMP5:CODE={VARINT0^SET(VARSTRING1^GET(8));VARSTRING0^SET(["ANNKUBEK"+VARINT0]);VARINT1^SET(*VARSTRING0^GETFRAMENAME());VARINT1^INC();*VARSTRING0^SETFRAME("PLAY",VARINT1);@LOOP("{VARSTRING2^SET(["ARRAYMONETA"+ARRAYMONDRAG^GET(_I_)]);*VARSTRING2^CHANGEAT(0,VARINT0);*VARSTRING2^CHANGEAT(1,VARINT1);}",0,ARRAYMONDRAG^GETSIZE(),1);}


OBJECT=BFITMP6
BFITMP6:TYPE=BEHAVIOUR
BFITMP6:CODE={SEQKUBKI^PLAY("RANDOM");}


OBJECT=BFITMP7
BFITMP7:TYPE=BEHAVIOUR
BFITMP7:CODE={*["ANNMONETA"+VARMONETA]^SETPOSITION(VARPOSX,VARPOSY);@BREAK();}


OBJECT=BFITMP8
BFITMP8:TYPE=BEHAVIOUR
BFITMP8:CODE={VARSTRING1^SET(["ARRAYMONETA"+VARMONETA]);VARSTRING2^SET(["ARRAYMON"+VARMONETA+"_START"]);*VARSTRING0^SETPOSITION(*VARSTRING2^GET(0),*VARSTRING2^GET(1));*VARSTRING1^CHANGEAT(0,-1);*VARSTRING1^CHANGEAT(1,-1);}


OBJECT=BFITMP9
BFITMP9:TYPE=BEHAVIOUR
BFITMP9:CODE={VARINT0^SET(VARSTRING1^GET(11));VARSTRING0^SET(["ANNKUBEK"+VARINT0]);VARSTRING1^SET(["ARRAYMONETA"+VARMONETA]);@IF(*VARSTRING0^GETFRAMENAME(),"_",""0"","BFITMP7","");*VARSTRING1^CHANGEAT(0,VARINT0);*VARSTRING1^CHANGEAT(1,*VARSTRING0^GETFRAMENAME());}


OBJECT=BFITMP10
BFITMP10:TYPE=BEHAVIOUR
BFITMP10:CODE={*VARSTRING4^DISABLE();}


OBJECT=BFITMP11
BFITMP11:TYPE=BEHAVIOUR
BFITMP11:CODE={VARSTRING2^SET(["ARRAYKUBEK"+VARINT0]);VARINT3^SET(*VARSTRING2^GET(0));VARINT4^SET(*VARSTRING2^GET(1));*VARSTRING4^ENABLE();*VARSTRING3^SETPRIORITY([11+ARRAYKUBEK^GET(VARLAYER)]);*VARSTRING3^SETPOSITION([VARINT3+90],[VARINT4+130-[ARRAYKUBEK^GET(VARLAYER)*5]]);}


OBJECT=BFITMP12
BFITMP12:TYPE=BEHAVIOUR
BFITMP12:CODE={ARRAYKUBEK^ADDAT(VARLAYER,1);@IF(*VARSTRING1^GET(1),"<","VARLAYER","BFITMP10","BFITMP11");}


OBJECT=BFITMP13
BFITMP13:TYPE=BEHAVIOUR
BFITMP13:CODE={VARINT0^SET(_I_);}


OBJECT=BFITMP14
BFITMP14:TYPE=BEHAVIOUR
BFITMP14:CODE={@BREAK();}


OBJECT=BFITMP15
BFITMP15:TYPE=BEHAVIOUR
BFITMP15:CODE={@BREAK();}


OBJECT=BFITMP16
BFITMP16:TYPE=BEHAVIOUR
BFITMP16:CODE={@BREAK();}


OBJECT=BFITMP17
BFITMP17:TYPE=BEHAVIOUR
BFITMP17:CODE={@IF(*VARSTRING0^GET(1),"!_","3","BFITMP15","");}


OBJECT=BFITMP18
BFITMP18:TYPE=BEHAVIOUR
BFITMP18:CODE={PRZYGODA^GOTO("ARCADE");@BREAK();}


OBJECT=BFITMP19
BFITMP19:TYPE=BEHAVIOUR
BFITMP19:CODE={PRZYGODA^GOTO(G_SARCADEOBJECTS);@BREAK();}


OBJECT=BFITMP20
BFITMP20:TYPE=BEHAVIOUR
BFITMP20:CODE={PRZYGODA^GOTO("ARCADE");@BREAK();}


OBJECT=BFITMP21
BFITMP21:TYPE=BEHAVIOUR
BFITMP21:CODE={PRZYGODA^GOTO(G_SARCADEOBJECTS);@BREAK();}


OBJECT=BFITMP22
BFITMP22:TYPE=BEHAVIOUR
BFITMP22:CODE={KEYBOARD^ENABLE();}


OBJECT=BFITMP23
BFITMP23:TYPE=BEHAVIOUR
BFITMP23:CODE={KEYBOARD^DISABLE();}


