OBJECT=VARSRETURN
VARSRETURN:TYPE=STRING

OBJECT=VARIHELPMODE
VARIHELPMODE:TYPE=INTEGER

OBJECT=VARIRANDOM
VARIRANDOM:TYPE=INTEGER
VARIRANDOM:ONCHANGED^220={@IF("VARBSEQPLAYING","_","FALSE","BFITMP358","");VARIRANDOM^SET(0);}

OBJECT=STL10
STL10:TYPE=ANIMO
STL10:VISIBLE=TRUE
STL10:FILENAME=$COMMON\STL10.ANN
STL10:TOCANVAS=TRUE
STL10:PRIORITY=0
STL10:FPS=16
STL10:PRELOAD=TRUE
STL10:RELEASE=TRUE
STL10:MONITORCOLLISION=FALSE
STL10:MONITORCOLLISIONALPHA=FALSE
STL10:ONFRAMECHANGED^ELAPSE={VARIRANDOM^INC();}

OBJECT=ARRGATES
ARRGATES:TYPE=ARRAY

OBJECT=ARRENTX
ARRENTX:TYPE=ARRAY

OBJECT=ARRENTY
ARRENTY:TYPE=ARRAY

OBJECT=BEHINITSCRIPT
BEHINITSCRIPT:TYPE=BEHAVIOUR
BEHINITSCRIPT:CODE={VARSRETURN^SET(G_SLASTOBJECTS);ARRGATES^ADD("WEJSCIE_0","WEJSCIE_3D","WEJSCIE_1L","WEJSCIE_10L","WEJSCIE_11L","WEJSCIE_12L","WEJSCIE_13L","WEJSCIE_14L");ARRGATES^ADD("WEJSCIE_15L","WEJSCIE_16L","WEJSCIE_2L","WEJSCIE_3L","WEJSCIE_4L","WEJSCIE_5L","WEJSCIE_6L","WEJSCIE_7L");ARRGATES^ADD("WEJSCIE_8L","WEJSCIE_9L","WEJSCIE_1P","WEJSCIE_10P","WEJSCIE_11P","WEJSCIE_12P","WEJSCIE_13P","WEJSCIE_14P");ARRGATES^ADD("WEJSCIE_15P","WEJSCIE_16P","WEJSCIE_2P","WEJSCIE_3P","WEJSCIE_4P","WEJSCIE_5P","WEJSCIE_6P","WEJSCIE_7P");ARRGATES^ADD("WEJSCIE_8P","WEJSCIE_9P","WEJSCIE_17");ARRENTX^ADD(546,278,201,386,615,435,480,376,630,703,427,233,676,392,258,151,501,452);ARRENTY^ADD(852,590,504,459,473,377,233,200,169,53,64,76,-223,-60,-75,-43,-170,693);@LOOP("{VARSTEMP0^SET(["ANNOBJECT"+_I_]);*VARSTEMP0^SETPRIORITY(2000);}",0,19,1);@LOOP("{VARSTEMP0^SET(["ANNOBJECT"+_I_]);*VARSTEMP0^SETPRIORITY(1);}",19,ARRGATES^GETSIZE(),1);BEHSELECTOBJS^RUN("KROLIK");@IF("SOBJECT|IPARAM0","_","2","BFITMP359","");@IF("SOBJECT|IPARAM0","_","1","BFITMP360","");STL10^PLAY("ELAPSE");}


OBJECT=BEHSPYMOVE
BEHSPYMOVE:TYPE=BEHAVIOUR
BEHSPYMOVE:CODE={}


OBJECT=BEHUSE
BEHUSE:TYPE=BEHAVIOUR
BEHUSE:CODE={BEHHIDECURRENTITEM^RUN();@IF("VARSITEMTO'"KLUCZ_BUT"&&VARSITEMON'"KLATKA"","BFITMP361","");}


OBJECT=BEHCLICK_DO_KAPELUSZNIKA
BEHCLICK_DO_KAPELUSZNIKA:TYPE=BEHAVIOUR
BEHCLICK_DO_KAPELUSZNIKA:CODE={BEHGOTO^RUN(VARSRETURN);}


OBJECT=BEHCLICK_WEJSCIE_0
BEHCLICK_WEJSCIE_0:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_0:CODE={BEHJUMP^RUN("WEJSCIE_1L");@IF("VARIHELPMODE",">","0","BFITMP362","");}


OBJECT=BEHCLICK_WEJSCIE_1L
BEHCLICK_WEJSCIE_1L:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_1L:CODE={BEHJUMP^RUN("WEJSCIE_3D");}


OBJECT=BEHCLICK_WEJSCIE_1P
BEHCLICK_WEJSCIE_1P:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_1P:CODE={BEHJUMP^RUN("WEJSCIE_4L");@IF("VARIHELPMODE",">","0","BFITMP363","");}


OBJECT=BEHCLICK_WEJSCIE_2L
BEHCLICK_WEJSCIE_2L:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_2L:CODE={BEHJUMP^RUN("WEJSCIE_3L");}


OBJECT=BEHCLICK_WEJSCIE_2P
BEHCLICK_WEJSCIE_2P:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_2P:CODE={BEHJUMP^RUN("WEJSCIE_3P");}


OBJECT=BEHCLICK_WEJSCIE_3L
BEHCLICK_WEJSCIE_3L:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_3L:CODE={BEHJUMP^RUN("WEJSCIE_4P");}


OBJECT=BEHCLICK_WEJSCIE_3P
BEHCLICK_WEJSCIE_3P:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_3P:CODE={BEHJUMP^RUN("WEJSCIE_1P");}


OBJECT=BEHCLICK_WEJSCIE_3D
BEHCLICK_WEJSCIE_3D:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_3D:CODE={BEHJUMP^RUN("WEJSCIE17");}


OBJECT=BEHCLICK_WEJSCIE_4L
BEHCLICK_WEJSCIE_4L:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_4L:CODE={BEHJUMP^RUN("WEJSCIE_5L");@IF("VARIHELPMODE",">","0","BFITMP364","");}


OBJECT=BEHCLICK_WEJSCIE_4P
BEHCLICK_WEJSCIE_4P:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_4P:CODE={BEHJUMP^RUN("WEJSCIE_2P");}


OBJECT=BEHCLICK_WEJSCIE_5L
BEHCLICK_WEJSCIE_5L:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_5L:CODE={BEHJUMP^RUN("WEJSCIE17");}


OBJECT=BEHCLICK_WEJSCIE_5P
BEHCLICK_WEJSCIE_5P:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_5P:CODE={BEHJUMP^RUN("WEJSCIE_7L");@IF("VARIHELPMODE",">","0","BFITMP365","");}


OBJECT=BEHCLICK_WEJSCIE_6L
BEHCLICK_WEJSCIE_6L:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_6L:CODE={BEHJUMP^RUN("WEJSCIE_8P");@IF("VARIHELPMODE",">","0","BFITMP366","");}


OBJECT=BEHCLICK_WEJSCIE_6P
BEHCLICK_WEJSCIE_6P:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_6P:CODE={BEHJUMP^RUN("WEJSCIE_11P");}


OBJECT=BEHCLICK_WEJSCIE_7L
BEHCLICK_WEJSCIE_7L:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_7L:CODE={BEHJUMP^RUN("WEJSCIE_3P");}


OBJECT=BEHCLICK_WEJSCIE_7P
BEHCLICK_WEJSCIE_7P:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_7P:CODE={BEHJUMP^RUN("WEJSCIE_9L");@IF("VARIHELPMODE",">","0","BFITMP367","");}


OBJECT=BEHCLICK_WEJSCIE_8L
BEHCLICK_WEJSCIE_8L:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_8L:CODE={BEHGOTO^RUN("POMPA");}


OBJECT=BEHCLICK_WEJSCIE_8P
BEHCLICK_WEJSCIE_8P:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_8P:CODE={BEHJUMP^RUN("WEJSCIE_0");}


OBJECT=BEHCLICK_WEJSCIE_9L
BEHCLICK_WEJSCIE_9L:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_9L:CODE={BEHJUMP^RUN("WEJSCIE_16P");}


OBJECT=BEHCLICK_WEJSCIE_9P
BEHCLICK_WEJSCIE_9P:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_9P:CODE={BEHJUMP^RUN("WEJSCIE_10P");@IF("VARIHELPMODE",">","0","BFITMP368","");}


OBJECT=BEHCLICK_WEJSCIE_10L
BEHCLICK_WEJSCIE_10L:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_10L:CODE={BEHJUMP^RUN("WEJSCIE_15P");}


OBJECT=BEHCLICK_WEJSCIE_10P
BEHCLICK_WEJSCIE_10P:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_10P:CODE={BEHJUMP^RUN("WEJSCIE_11L");@IF("VARIHELPMODE",">","0","BFITMP369","");}


OBJECT=BEHCLICK_WEJSCIE_11L
BEHCLICK_WEJSCIE_11L:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_11L:CODE={BEHJUMP^RUN("WEJSCIE_2L");}


OBJECT=BEHCLICK_WEJSCIE_11P
BEHCLICK_WEJSCIE_11P:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_11P:CODE={BEHJUMP^RUN("WEJSCIE_13L");@IF("VARIHELPMODE",">","0","BFITMP370","");}


OBJECT=BEHCLICK_WEJSCIE_12L
BEHCLICK_WEJSCIE_12L:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_12L:CODE={BEHJUMP^RUN("WEJSCIE_0");}


OBJECT=BEHCLICK_WEJSCIE_12P
BEHCLICK_WEJSCIE_12P:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_12P:CODE={BEHJUMP^RUN("WEJSCIE_9P");}


OBJECT=BEHCLICK_WEJSCIE_13L
BEHCLICK_WEJSCIE_13L:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_13L:CODE={BEHJUMP^RUN("WEJSCIE_15L");}


OBJECT=BEHCLICK_WEJSCIE_13P
BEHCLICK_WEJSCIE_13P:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_13P:CODE={BEHJUMP^RUN("WEJSCIE_6L");@IF("VARIHELPMODE",">","0","BFITMP371","");}


OBJECT=BEHCLICK_WEJSCIE_14L
BEHCLICK_WEJSCIE_14L:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_14L:CODE={BEHJUMP^RUN("WEJSCIE_10L");}


OBJECT=BEHCLICK_WEJSCIE_14P
BEHCLICK_WEJSCIE_14P:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_14P:CODE={BEHJUMP^RUN("WEJSCIE_12L");}


OBJECT=BEHCLICK_WEJSCIE_15L
BEHCLICK_WEJSCIE_15L:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_15L:CODE={BEHJUMP^RUN("WEJSCIE_16L");}


OBJECT=BEHCLICK_WEJSCIE_15P
BEHCLICK_WEJSCIE_15P:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_15P:CODE={BEHJUMP^RUN("WEJSCIE_14L");}


OBJECT=BEHCLICK_WEJSCIE_16L
BEHCLICK_WEJSCIE_16L:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_16L:CODE={BEHJUMP^RUN("WEJSCIE_14P");}


OBJECT=BEHCLICK_WEJSCIE_16P
BEHCLICK_WEJSCIE_16P:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_16P:CODE={BEHJUMP^RUN("WEJSCIE_12P");}


OBJECT=BEHCLICK_WEJSCIE_17
BEHCLICK_WEJSCIE_17:TYPE=BEHAVIOUR
BEHCLICK_WEJSCIE_17:CODE={BEHJUMP^RUN("WEJSCIE_0");}


OBJECT=BEHJUMP
BEHJUMP:TYPE=BEHAVIOUR
BEHJUMP:CODE={VARSTEMP0^SET($1);VARITEMP0^SET(ARRGATES^FIND(VARSTEMP0));@IF("VARITEMP0",">","-1","BFITMP372","");}


OBJECT=BEHSHOWKROLIKOVER
BEHSHOWKROLIKOVER:TYPE=BEHAVIOUR
BEHSHOWKROLIKOVER:CODE={VARSTEMP0^SET($1);VARITEMP0^SET(ARRGATES^FIND(VARSTEMP0));@IF("VARITEMP0",">","-1","BFITMP373","");}


OBJECT=BEHHIDEALLOVERS
BEHHIDEALLOVERS:TYPE=BEHAVIOUR
BEHHIDEALLOVERS:CODE={@LOOP("{VARITER^SET(_I_);VARSTEMP1^SET(["ANNOBJECT"+VARITER]);*VARSTEMP1^HIDE();ANNREX^HIDE();}",0,19,1);}


OBJECT=BEHSHOWOVER
BEHSHOWOVER:TYPE=BEHAVIOUR
BEHSHOWOVER:CODE={VARITER^SET($1);@IF("VARITER","_","3","BFITMP374","BFITMP375");}


OBJECT=BEHCLICK_KLATKA
BEHCLICK_KLATKA:TYPE=BEHAVIOUR
BEHCLICK_KLATKA:CODE={BEHSELECTOBJS^RUN("KROLIK");@IF("SOBJECT|IPARAM0","_","0","BFITMP376","");}


OBJECT=BEHFINISHEDS0_KROLIK
BEHFINISHEDS0_KROLIK:TYPE=BEHAVIOUR
BEHFINISHEDS0_KROLIK:CODE={}


OBJECT=BEHFINISHEDS1_KROLIK
BEHFINISHEDS1_KROLIK:TYPE=BEHAVIOUR
BEHFINISHEDS1_KROLIK:CODE={}


OBJECT=BEHFINISHEDS2_KROLIK
BEHFINISHEDS2_KROLIK:TYPE=BEHAVIOUR
BEHFINISHEDS2_KROLIK:CODE={}


OBJECT=BEHFINISHEDS3_KROLIK
BEHFINISHEDS3_KROLIK:TYPE=BEHAVIOUR
BEHFINISHEDS3_KROLIK:CODE={}


OBJECT=BEHFINISHEDS4_KROLIK
BEHFINISHEDS4_KROLIK:TYPE=BEHAVIOUR
BEHFINISHEDS4_KROLIK:CODE={}


OBJECT=BEHFINISHEDS5_KROLIK
BEHFINISHEDS5_KROLIK:TYPE=BEHAVIOUR
BEHFINISHEDS5_KROLIK:CODE={}


OBJECT=BEHFINISHEDS6_KROLIK
BEHFINISHEDS6_KROLIK:TYPE=BEHAVIOUR
BEHFINISHEDS6_KROLIK:CODE={}


OBJECT=BEHFINISHEDS7_KROLIK
BEHFINISHEDS7_KROLIK:TYPE=BEHAVIOUR
BEHFINISHEDS7_KROLIK:CODE={}


OBJECT=BEHFINISHEDS8_KROLIK
BEHFINISHEDS8_KROLIK:TYPE=BEHAVIOUR
BEHFINISHEDS8_KROLIK:CODE={}


OBJECT=BEHFINISHEDS9_KROLIK
BEHFINISHEDS9_KROLIK:TYPE=BEHAVIOUR
BEHFINISHEDS9_KROLIK:CODE={}


OBJECT=BEHFINISHEDS10_KROLIK
BEHFINISHEDS10_KROLIK:TYPE=BEHAVIOUR
BEHFINISHEDS10_KROLIK:CODE={}


OBJECT=BEHSEQFINISHED
BEHSEQFINISHED:TYPE=BEHAVIOUR
BEHSEQFINISHED:CODE={@IF("VARSSEQNAME","_",""USE_KLUCZYK"","BFITMP377","");}


OBJECT=BFITMP358
BFITMP358:TYPE=BEHAVIOUR
BFITMP358:CODE={BEHLOADSEQARR^RUN("CZARO_RANDOM");}


OBJECT=BFITMP359
BFITMP359:TYPE=BEHAVIOUR
BFITMP359:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("KROLIK"));*VARSTEMP0^STOP(FALSE);*VARSTEMP0^HIDE();VARSTEMP0^SET(BEHGETOBJECT^RUN("KLATKA"));*VARSTEMP0^PLAY("STATE1");}


OBJECT=BFITMP360
BFITMP360:TYPE=BEHAVIOUR
BFITMP360:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("KLATKA"));*VARSTEMP0^PLAY("STATE1");VARSTEMP0^SET(BEHGETOBJECT^RUN("KROLIK"));*VARSTEMP0^PLAY("STATE0");VARIHELPMODE^SET(1);}


OBJECT=BFITMP361
BFITMP361:TYPE=BEHAVIOUR
BFITMP361:CODE={BEHREMOVEITEM^RUN(VARSITEMTO);BEHSELECTOBJS^RUN("KROLIK");SOBJECT|IPARAM0^SET(1);BEHUPDATEOBJECTS^RUN();VARIHELPMODE^SET(1);BEHLOADSEQARREX^RUN("USE_KLUCZYK",FALSE);}


OBJECT=BFITMP362
BFITMP362:TYPE=BEHAVIOUR
BFITMP362:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("KROLIK"));*VARSTEMP0^PLAY("STATE1");VARIHELPMODE^INC();}


OBJECT=BFITMP363
BFITMP363:TYPE=BEHAVIOUR
BFITMP363:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("KROLIK"));*VARSTEMP0^PLAY("STATE2");VARIHELPMODE^INC();}


OBJECT=BFITMP364
BFITMP364:TYPE=BEHAVIOUR
BFITMP364:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("KROLIK"));*VARSTEMP0^PLAY("STATE3");VARIHELPMODE^INC();}


OBJECT=BFITMP365
BFITMP365:TYPE=BEHAVIOUR
BFITMP365:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("KROLIK"));*VARSTEMP0^PLAY("STATE4");VARIHELPMODE^INC();}


OBJECT=BFITMP366
BFITMP366:TYPE=BEHAVIOUR
BFITMP366:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("KROLIK"));*VARSTEMP0^PLAY("STATE10");VARIHELPMODE^INC();}


OBJECT=BFITMP367
BFITMP367:TYPE=BEHAVIOUR
BFITMP367:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("KROLIK"));*VARSTEMP0^PLAY("STATE5");VARIHELPMODE^INC();}


OBJECT=BFITMP368
BFITMP368:TYPE=BEHAVIOUR
BFITMP368:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("KROLIK"));*VARSTEMP0^PLAY("STATE6");VARIHELPMODE^INC();}


OBJECT=BFITMP369
BFITMP369:TYPE=BEHAVIOUR
BFITMP369:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("KROLIK"));*VARSTEMP0^PLAY("STATE7");VARIHELPMODE^INC();}


OBJECT=BFITMP370
BFITMP370:TYPE=BEHAVIOUR
BFITMP370:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("KROLIK"));*VARSTEMP0^PLAY("STATE8");VARIHELPMODE^INC();}


OBJECT=BFITMP371
BFITMP371:TYPE=BEHAVIOUR
BFITMP371:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("KROLIK"));*VARSTEMP0^PLAY("STATE9");VARIHELPMODE^INC();}


OBJECT=BFITMP372
BFITMP372:TYPE=BEHAVIOUR
BFITMP372:CODE={VARITEMP0^ADD(19);VARITEMP1^SET(ARRGOTOX^GET(VARITEMP0));VARITEMP2^SET(ARRGOTOY^GET(VARITEMP0));VARITEMP1^ADD(VARIBKGOFFSETX);VARITEMP2^ADD(VARIBKGOFFSETY);WPATH^SETPOSITION(100,VARITEMP1,VARITEMP2,0);VARSTEMP0^SUB(0,8);VARITEMP0^SET(VARSTEMP0);VARITEMP1^SET(ARRENTX^GET(VARITEMP0));VARITEMP2^SET(ARRENTY^GET(VARITEMP0));BEHHIDEALLOVERS^RUN();BEHSHOWOVER^RUN(VARITEMP0);WPATH^FINDPATH(100,VARIPATHID,VARITEMP1,VARITEMP2,0,TRUE,FALSE);}


OBJECT=BFITMP373
BFITMP373:TYPE=BEHAVIOUR
BFITMP373:CODE={BEHSHOWOVER^RUN(VARITEMP0);}


OBJECT=BFITMP374
BFITMP374:TYPE=BEHAVIOUR
BFITMP374:CODE={ANNOBJECT3^SHOW();ANNOBJECT18^SHOW();}


OBJECT=BFITMP375
BFITMP375:TYPE=BEHAVIOUR
BFITMP375:CODE={VARSTEMP1^SET(["ANNOBJECT"+VARITER]);*VARSTEMP1^SHOW();}


OBJECT=BFITMP376
BFITMP376:TYPE=BEHAVIOUR
BFITMP376:CODE={BEHLOADSEQARR^RUN("KROLIK_WKLATCE");}


OBJECT=BFITMP377
BFITMP377:TYPE=BEHAVIOUR
BFITMP377:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("KLATKA"));*VARSTEMP0^PLAY("STATE1");VARSTEMP0^SET(BEHGETOBJECT^RUN("KROLIK"));*VARSTEMP0^PLAY("STATE0");VARIHELPMODE^SET(1);}


