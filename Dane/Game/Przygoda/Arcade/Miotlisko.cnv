OBJECT=VARIFIGHT
VARIFIGHT:TYPE=INTEGER
VARIFIGHT:VALUE=0

OBJECT=VARIKAMIEN
VARIKAMIEN:TYPE=INTEGER

OBJECT=BEHINITSCRIPT
BEHINITSCRIPT:TYPE=BEHAVIOUR
BEHINITSCRIPT:CODE={@IF(BEHISASKED^RUN("85"),"_","TRUE","BFITMP457","BFITMP458");BEHSELECTOBJS^RUN("GES");@IF("G_SLASTOBJECTS'"MAGIC_MIOTLISKO"&&SOBJECT|IPARAM0'1","BFITMP460","BFITMP461");BEHSELECTOBJS^RUN("GES");@IF("SOBJECT|IPARAM0","_","1","BFITMP462","");@IF(BEHISFIRSTENTER^RUN(),"_","TRUE","BFITMP463","");@IF("BEHISFIRSTENTER^RUN()'FALSE&&G_SLASTOBJECTS'"MIOTLY"","{BEHLOADSEQARR^RUN("WST");}","");}


OBJECT=BEHSPYMOVE
BEHSPYMOVE:TYPE=BEHAVIOUR
BEHSPYMOVE:CODE={@IF("WPATH^GETPOSITIONY(100)>400&&VARIFIGHT<2","BFITMP466","");@IF("WPATH^GETPOSITIONX(100)>500&&VARIKAMIEN'0","BFITMP467","");}


OBJECT=BEHPOSTMOVE
BEHPOSTMOVE:TYPE=BEHAVIOUR
BEHPOSTMOVE:CODE={}


OBJECT=BEHUSE
BEHUSE:TYPE=BEHAVIOUR
BEHUSE:CODE={}


OBJECT=BEHCLICK_DO_KAPTURKA
BEHCLICK_DO_KAPTURKA:TYPE=BEHAVIOUR
BEHCLICK_DO_KAPTURKA:CODE={BEHGOTO^RUN("KAPTUREK");}


OBJECT=BEHKRETIDLE
BEHKRETIDLE:TYPE=BEHAVIOUR
BEHKRETIDLE:CODE={BEHTALKIDLE^RUN(1,"K_BAJKI_",1,17);}


OBJECT=BEHCLICK_MIOTLA
BEHCLICK_MIOTLA:TYPE=BEHAVIOUR
BEHCLICK_MIOTLA:CODE={BEHSELECTOBJS^RUN("MIOTLA");@IF("SOBJECT|IPARAM0","_","0","BFITMP468","");}


OBJECT=BEHSEQFINISHED
BEHSEQFINISHED:TYPE=BEHAVIOUR
BEHSEQFINISHED:CODE={@IF("VARSSEQNAME","_",""GESATAK"","BFITMP469","");@IF("VARSSEQNAME","_",""TRIGGER_KAMIEN"","BFITMP470","");@IF("VARSSEQNAME","_",""MIOTLA","{G_SARCADEOBJECTS^SET("3");PRZYGODA^GOTO("MIOTLY");}","");}


OBJECT=BEHFINISHEDS0_GES
BEHFINISHEDS0_GES:TYPE=BEHAVIOUR
BEHFINISHEDS0_GES:CODE={BEHAUTOHIDE^RUN();VARSTEMP0^SET(BEHGETOBJECT^RUN("GES"));GRPHIDE^ADD(VARSTEMP0);S_IMAGICFIGHTER^SET(6);BEHGOTOMAGIC^RUN(100,100,500,400);}


OBJECT=BEHCLICK_KAMIEN
BEHCLICK_KAMIEN:TYPE=BEHAVIOUR
BEHCLICK_KAMIEN:CODE={G_SDIALOGCHARACTER^SET("KAMIEN");__SCREENSHOT__^RUN();PRZYGODA^GOTO("DIALOGS");}


OBJECT=BFITMP454
BFITMP454:TYPE=BEHAVIOUR
BFITMP454:CODE={SOBJECT|IDNAME^SET("KAMYK");BEHUPDATEOBJECTS^RUN();BEHADDITEM^RUN("KAMIEN_BUT",-1);BEHLOADSEQARR^RUN("KAMIEN_TAKEN");}


OBJECT=BFITMP455
BFITMP455:TYPE=BEHAVIOUR
BFITMP455:CODE={BEHSELECTOBJS^RUN("KAMIEN");SOBJECT|IPARAM0^SET(1);BEHUPDATEOBJECTS^RUN();VARIKAMIEN^SET(1);}


OBJECT=BFITMP456
BFITMP456:TYPE=BEHAVIOUR
BFITMP456:CODE={BEHSELECTOBJS^RUN("KAMIEN");VARIKAMIEN^SET(SOBJECT|IPARAM0);}


OBJECT=BFITMP457
BFITMP457:TYPE=BEHAVIOUR
BFITMP457:CODE={BEHSELECTOBJ^RUN(3);@IF("SOBJECT|IDNAME","_",""KAMIEN"","BFITMP454","");ANNOBJECT3^STOP(FALSE);ANNOBJECT3^HIDE();VARIKAMIEN^SET(2);}


OBJECT=BFITMP458
BFITMP458:TYPE=BEHAVIOUR
BFITMP458:CODE={@IF("G_SLASTOBJECTS","_",""DIALOGS"","BFITMP455","BFITMP456");}


OBJECT=BFITMP459
BFITMP459:TYPE=BEHAVIOUR
BFITMP459:CODE={VARIFIGHT^SET(2);}


OBJECT=BFITMP460
BFITMP460:TYPE=BEHAVIOUR
BFITMP460:CODE={SOBJECT|IPARAM0^SET(2);BEHUPDATEOBJECTS^RUN();VARIFIGHT^SET(2);G_MENU^ADDEXP(30);}


OBJECT=BFITMP461
BFITMP461:TYPE=BEHAVIOUR
BFITMP461:CODE={@IF("SOBJECT|IPARAM0",">","1","BFITMP459","");}


OBJECT=BFITMP462
BFITMP462:TYPE=BEHAVIOUR
BFITMP462:CODE={VARIFIGHT^SET(1);VARSTEMP0^SET(BEHGETOBJECT^RUN("GES"));*VARSTEMP0^PLAY("UNOSI");}


OBJECT=BFITMP463
BFITMP463:TYPE=BEHAVIOUR
BFITMP463:CODE={G_MENU^ADDEXP(40);BEHADDQUESTION^RUN("83");BEHADDQUESTION^RUN("84");BEHADDQUESTION^RUN("85");}


OBJECT=BFITMP464
BFITMP464:TYPE=BEHAVIOUR
BFITMP464:CODE={BEHAUTOHIDE^RUN();VARSTEMP0^SET(BEHGETOBJECT^RUN("GES"));GRPHIDE^ADD(VARSTEMP0);S_IMAGICFIGHTER^SET(6);BEHGOTOMAGIC^RUN(100,100,500,400);}


OBJECT=BFITMP465
BFITMP465:TYPE=BEHAVIOUR
BFITMP465:CODE={BEHSELECTOBJS^RUN("GES");SOBJECT|IPARAM0^SET(1);BEHUPDATEOBJECTS^RUN();BEHLOADSEQARR^RUN("GESATAK");}


OBJECT=BFITMP466
BFITMP466:TYPE=BEHAVIOUR
BFITMP466:CODE={STL0^STOP(FALSE);WPATH^STOP();ANNREX^STOP(FALSE);ANNKRET^STOP(FALSE);@IF("VARIFIGHT","_","1","BFITMP464","BFITMP465");VARIFIGHT^SET(0);@BREAK();}


OBJECT=BFITMP467
BFITMP467:TYPE=BEHAVIOUR
BFITMP467:CODE={BEHSELECTOBJS^RUN("KAMIEN");SOBJECT|IPARAM0^SET(1);BEHUPDATEOBJECTS^RUN();VARIKAMIEN^SET(1);VARINEXTTRIGGER^SET(-1);WPATH^FINDPATH(100,VARIPATHID,WPATH^GETPOSITIONX(100),WPATH^GETPOSITIONY(100),0.0,FALSE,FALSE);WPATH^FINDPATH(101,VARIPATHID,WPATH^GETPOSITIONX(101),WPATH^GETPOSITIONY(101),0.0,FALSE,FALSE);BEHLOADSEQARREX^RUN("TRIGGER_KAMIEN",FALSE);}


OBJECT=BFITMP468
BFITMP468:TYPE=BEHAVIOUR
BFITMP468:CODE={SOBJECT|IPARAM0^SET(1);BEHUPDATEOBJECTS^RUN();G_MENU^ADDEXP(10);}


OBJECT=BFITMP469
BFITMP469:TYPE=BEHAVIOUR
BFITMP469:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("GES"));*VARSTEMP0^PLAY("STATE0");}


OBJECT=BFITMP470
BFITMP470:TYPE=BEHAVIOUR
BFITMP470:CODE={G_SDIALOGCHARACTER^SET("KAMIEN");__SCREENSHOT__^RUN();PRZYGODA^GOTO("DIALOGS");@BREAK();}


