OBJECT=VARIRANDOM
VARIRANDOM:TYPE=INTEGER
VARIRANDOM:ONCHANGED^100={@IF("SEQBLANK^ISPLAYING()'FALSE&&SNDATGOAL^ISPLAYING()'FALSE&&G_IKRETACTIVE!'1","BFITMP683","");}
VARIRANDOM:ONCHANGED^220={@IF("VARBSEQPLAYING","_","FALSE","BFITMP684","");VARIRANDOM^SET(0);}

OBJECT=STL9
STL9:TYPE=ANIMO
STL9:VISIBLE=TRUE
STL9:FILENAME=$COMMON\STL9.ANN
STL9:TOCANVAS=TRUE
STL9:PRIORITY=0
STL9:FPS=16
STL9:PRELOAD=TRUE
STL9:RELEASE=TRUE
STL9:MONITORCOLLISION=FALSE
STL9:MONITORCOLLISIONALPHA=FALSE
STL9:ONFRAMECHANGED^ELAPSE={VARIRANDOM^INC();}

OBJECT=SEQBLANKKRET
SEQBLANKKRET:TYPE=SEQUENCE
SEQBLANKKRET:FILENAME=BLANK_KRET.SEQ

OBJECT=ARRDOORS
ARRDOORS:TYPE=ARRAY

OBJECT=ARRKRETS
ARRKRETS:TYPE=ARRAY

OBJECT=BEHINITSCRIPT
BEHINITSCRIPT:TYPE=BEHAVIOUR
BEHINITSCRIPT:CODE={BEHTOGGLEKRET^RUN();ARRDOORS^ADD(10,6,4,8,2,-1,1,9,3,7,0);ANNOBJECT23^SETFPS(6);ARRKRETS^ADD("UNIVFRONT","UNIVBACK","GABINETDYR","MIASTO","PRZYSTAN","DOMALCHOMIKA");ARRKRETS^ADD("SKLEPALCH","RATUSZ","RATUSZIN","PIWNICA","KORYTARZ","UNIVPIWNICA","GULDRYK");ARRKRETS^ADD("GABINETSNEJKA","SALA","MIOTSHOP","HOLGLOWNY");BEHSELECTOBJS^RUN("KURA");@IF("SOBJECT|IPARAM1","_","0","BFITMP685","");@IF("G_IKRETACTIVE","_","1","BFITMP686","");BFITMP687^RUN();}


OBJECT=BEHSPYMOVE
BEHSPYMOVE:TYPE=BEHAVIOUR
BEHSPYMOVE:CODE={}


OBJECT=BEHPOSTMOVE
BEHPOSTMOVE:TYPE=BEHAVIOUR
BEHPOSTMOVE:CODE={}


OBJECT=BEHUSE
BEHUSE:TYPE=BEHAVIOUR
BEHUSE:CODE={BEHHIDECURRENTITEM^RUN();@IF("VARSITEMTO'"PIORKOR_BUT"&&VARSITEMON'"KURA"","BFITMP689","");@IF("VARSITEMTO'"ELIKSIR_BUT"&&VARSITEMON'"KRET"","BFITMP690","");}


OBJECT=BEHCLICK_DRZWI1
BEHCLICK_DRZWI1:TYPE=BEHAVIOUR
BEHCLICK_DRZWI1:CODE={ANNOBJECT0^PLAY("STATE1");BEHCLICK_DRZWI1_OTWARTE^RUN();}


OBJECT=BEHCLICK_DRZWI2
BEHCLICK_DRZWI2:TYPE=BEHAVIOUR
BEHCLICK_DRZWI2:CODE={ANNOBJECT1^PLAY("STATE1");BEHCLICK_DRZWI2_OTWARTE^RUN();}


OBJECT=BEHCLICK_DRZWI3
BEHCLICK_DRZWI3:TYPE=BEHAVIOUR
BEHCLICK_DRZWI3:CODE={ANNOBJECT2^PLAY("STATE1");BEHCLICK_DRZWI3_OTWARTE^RUN();}


OBJECT=BEHCLICK_DRZWI4
BEHCLICK_DRZWI4:TYPE=BEHAVIOUR
BEHCLICK_DRZWI4:CODE={ANNOBJECT3^PLAY("STATE1");BEHCLICK_DRZWI4_OTWARTE^RUN();}


OBJECT=BEHCLICK_DRZWI5
BEHCLICK_DRZWI5:TYPE=BEHAVIOUR
BEHCLICK_DRZWI5:CODE={ANNOBJECT4^PLAY("STATE1");BEHCLICK_DRZWI5_OTWARTE^RUN();}


OBJECT=BEHCLICK_DRZWI6
BEHCLICK_DRZWI6:TYPE=BEHAVIOUR
BEHCLICK_DRZWI6:CODE={ANNOBJECT5^PLAY("STATE1");BEHCLICK_DRZWI6_OTWARTE^RUN();}


OBJECT=BEHCLICK_DRZWI7
BEHCLICK_DRZWI7:TYPE=BEHAVIOUR
BEHCLICK_DRZWI7:CODE={ANNOBJECT6^PLAY("STATE1");BEHCLICK_DRZWI7_OTWARTE^RUN();}


OBJECT=BEHCLICK_DRZWI8
BEHCLICK_DRZWI8:TYPE=BEHAVIOUR
BEHCLICK_DRZWI8:CODE={ANNOBJECT7^PLAY("STATE1");BEHCLICK_DRZWI8_OTWARTE^RUN();}


OBJECT=BEHCLICK_DRZWI9
BEHCLICK_DRZWI9:TYPE=BEHAVIOUR
BEHCLICK_DRZWI9:CODE={ANNOBJECT8^PLAY("STATE1");BEHCLICK_DRZWI9_OTWARTE^RUN();}


OBJECT=BEHCLICK_DRZWI10
BEHCLICK_DRZWI10:TYPE=BEHAVIOUR
BEHCLICK_DRZWI10:CODE={ANNOBJECT9^PLAY("STATE1");BEHCLICK_DRZWI10_OTWARTE^RUN();}


OBJECT=BEHCLICK_DRZWI11
BEHCLICK_DRZWI11:TYPE=BEHAVIOUR
BEHCLICK_DRZWI11:CODE={ANNOBJECT10^PLAY("STATE1");BEHCLICK_DRZWI11_OTWARTE^RUN();}


OBJECT=BEHCLICK_DRZWI1_OTWARTE
BEHCLICK_DRZWI1_OTWARTE:TYPE=BEHAVIOUR
BEHCLICK_DRZWI1_OTWARTE:CODE={BEHJUMP^RUN(0);}


OBJECT=BEHCLICK_DRZWI2_OTWARTE
BEHCLICK_DRZWI2_OTWARTE:TYPE=BEHAVIOUR
BEHCLICK_DRZWI2_OTWARTE:CODE={BEHJUMP^RUN(1);}


OBJECT=BEHCLICK_DRZWI3_OTWARTE
BEHCLICK_DRZWI3_OTWARTE:TYPE=BEHAVIOUR
BEHCLICK_DRZWI3_OTWARTE:CODE={BEHJUMP^RUN(2);}


OBJECT=BEHCLICK_DRZWI4_OTWARTE
BEHCLICK_DRZWI4_OTWARTE:TYPE=BEHAVIOUR
BEHCLICK_DRZWI4_OTWARTE:CODE={BEHJUMP^RUN(3);}


OBJECT=BEHCLICK_DRZWI5_OTWARTE
BEHCLICK_DRZWI5_OTWARTE:TYPE=BEHAVIOUR
BEHCLICK_DRZWI5_OTWARTE:CODE={BEHJUMP^RUN(4);}


OBJECT=BEHCLICK_DRZWI6_OTWARTE
BEHCLICK_DRZWI6_OTWARTE:TYPE=BEHAVIOUR
BEHCLICK_DRZWI6_OTWARTE:CODE={BEHJUMP^RUN(5);}


OBJECT=BEHCLICK_DRZWI7_OTWARTE
BEHCLICK_DRZWI7_OTWARTE:TYPE=BEHAVIOUR
BEHCLICK_DRZWI7_OTWARTE:CODE={BEHJUMP^RUN(6);}


OBJECT=BEHCLICK_DRZWI8_OTWARTE
BEHCLICK_DRZWI8_OTWARTE:TYPE=BEHAVIOUR
BEHCLICK_DRZWI8_OTWARTE:CODE={BEHJUMP^RUN(7);}


OBJECT=BEHCLICK_DRZWI9_OTWARTE
BEHCLICK_DRZWI9_OTWARTE:TYPE=BEHAVIOUR
BEHCLICK_DRZWI9_OTWARTE:CODE={BEHJUMP^RUN(8);}


OBJECT=BEHCLICK_DRZWI10_OTWARTE
BEHCLICK_DRZWI10_OTWARTE:TYPE=BEHAVIOUR
BEHCLICK_DRZWI10_OTWARTE:CODE={BEHJUMP^RUN(9);}


OBJECT=BEHCLICK_DRZWI11_OTWARTE
BEHCLICK_DRZWI11_OTWARTE:TYPE=BEHAVIOUR
BEHCLICK_DRZWI11_OTWARTE:CODE={BEHJUMP^RUN(10);}


OBJECT=BEHJUMP
BEHJUMP:TYPE=BEHAVIOUR
BEHJUMP:CODE={VARITEMP0^SET($1);VARITEMP1^SET(ARRDOORS^GET(VARITEMP0));@IF("VARITEMP1",">","-1","BFITMP691","BFITMP692");}


OBJECT=BEHFINISHEDS1_DRZWI1
BEHFINISHEDS1_DRZWI1:TYPE=BEHAVIOUR
BEHFINISHEDS1_DRZWI1:CODE={ANNOBJECT0^PLAY("STATE0");}


OBJECT=BEHFINISHEDS1_DRZWI2
BEHFINISHEDS1_DRZWI2:TYPE=BEHAVIOUR
BEHFINISHEDS1_DRZWI2:CODE={ANNOBJECT1^PLAY("STATE0");}


OBJECT=BEHFINISHEDS1_DRZWI3
BEHFINISHEDS1_DRZWI3:TYPE=BEHAVIOUR
BEHFINISHEDS1_DRZWI3:CODE={ANNOBJECT2^PLAY("STATE0");}


OBJECT=BEHFINISHEDS1_DRZWI4
BEHFINISHEDS1_DRZWI4:TYPE=BEHAVIOUR
BEHFINISHEDS1_DRZWI4:CODE={ANNOBJECT3^PLAY("STATE0");}


OBJECT=BEHFINISHEDS1_DRZWI5
BEHFINISHEDS1_DRZWI5:TYPE=BEHAVIOUR
BEHFINISHEDS1_DRZWI5:CODE={ANNOBJECT4^PLAY("STATE0");}


OBJECT=BEHFINISHEDS1_DRZWI6
BEHFINISHEDS1_DRZWI6:TYPE=BEHAVIOUR
BEHFINISHEDS1_DRZWI6:CODE={ANNOBJECT5^PLAY("STATE0");}


OBJECT=BEHFINISHEDS1_DRZWI7
BEHFINISHEDS1_DRZWI7:TYPE=BEHAVIOUR
BEHFINISHEDS1_DRZWI7:CODE={ANNOBJECT6^PLAY("STATE0");}


OBJECT=BEHFINISHEDS1_DRZWI8
BEHFINISHEDS1_DRZWI8:TYPE=BEHAVIOUR
BEHFINISHEDS1_DRZWI8:CODE={ANNOBJECT7^PLAY("STATE0");}


OBJECT=BEHFINISHEDS1_DRZWI9
BEHFINISHEDS1_DRZWI9:TYPE=BEHAVIOUR
BEHFINISHEDS1_DRZWI9:CODE={ANNOBJECT8^PLAY("STATE0");}


OBJECT=BEHFINISHEDS1_DRZWI10
BEHFINISHEDS1_DRZWI10:TYPE=BEHAVIOUR
BEHFINISHEDS1_DRZWI10:CODE={ANNOBJECT9^PLAY("STATE0");}


OBJECT=BEHFINISHEDS1_DRZWI11
BEHFINISHEDS1_DRZWI11:TYPE=BEHAVIOUR
BEHFINISHEDS1_DRZWI11:CODE={ANNOBJECT10^PLAY("STATE0");}


OBJECT=BEHCLICK_WYJSCIE_Z_KIBLA
BEHCLICK_WYJSCIE_Z_KIBLA:TYPE=BEHAVIOUR
BEHCLICK_WYJSCIE_Z_KIBLA:CODE={WPATH^SETPOSITION(100,ARRGOTOX^GET(16),[ARRGOTOY^GET(16)-10],0);WPATH^FINDPATH(100,VARIPATHID,ARRGOTOX^GET(16),[ARRGOTOY^GET(16)+20],0,TRUE,FALSE);ANNOBJECT5^PLAY("STATE1");}


OBJECT=BEHCLICK_WYJSCIE
BEHCLICK_WYJSCIE:TYPE=BEHAVIOUR
BEHCLICK_WYJSCIE:CODE={BEHGOTO^RUN("RATUSZ");}


OBJECT=BEHKRETIDLE
BEHKRETIDLE:TYPE=BEHAVIOUR
BEHKRETIDLE:CODE={@IF("G_IKRETACTIVE",">","0","BFITMP693","");}


OBJECT=BEHCLICK_KURA
BEHCLICK_KURA:TYPE=BEHAVIOUR
BEHCLICK_KURA:CODE={BEHSELECTOBJS^RUN("KURA");@IF("SOBJECT|IPARAM1","_","1","BFITMP695","");BEHSELECTOBJS^RUN("KURA");@IF("SOBJECT|IPARAM0","_","1","BFITMP700","BFITMP701");}


OBJECT=BEHSEQFINISHED
BEHSEQFINISHED:TYPE=BEHAVIOUR
BEHSEQFINISHED:CODE={@IF("VARSSEQNAME","_",""USE_ELIKSIR"","BFITMP703","");}


OBJECT=BEHCLICK_OGLOSZENIE1
BEHCLICK_OGLOSZENIE1:TYPE=BEHAVIOUR
BEHCLICK_OGLOSZENIE1:CODE={G_MENU^ADDEXP(10);BEHLOADSEQARREX^RUN("OG1",FALSE);}


OBJECT=BEHCLICK_OGLOSZENIE2
BEHCLICK_OGLOSZENIE2:TYPE=BEHAVIOUR
BEHCLICK_OGLOSZENIE2:CODE={G_MENU^ADDEXP(10);BEHLOADSEQARREX^RUN("OG2",FALSE);}


OBJECT=BEHAUXGADA
BEHAUXGADA:TYPE=BEHAVIOUR
BEHAUXGADA:CODE={@IF("VARSTEMP0","_",""KURZED"","BFITMP704","");}


OBJECT=BEHCUTFINISHED
BEHCUTFINISHED:TYPE=BEHAVIOUR
BEHCUTFINISHED:CODE={@IF("G_SCUTSCENE","_",""C_ZMNIEJSZENIE"","BFITMP705","");}


OBJECT=BEHCLICK_KRET
BEHCLICK_KRET:TYPE=BEHAVIOUR
BEHCLICK_KRET:CODE={SNDBLANKKRET^LOAD("$WAVS\KRETES_M153.WAV");SEQBLANKKRET^PLAY("GADABLANK");}


OBJECT=BFITMP683
BFITMP683:TYPE=BEHAVIOUR
BFITMP683:CODE={BEHLOADSEQARR^RUN("KURA_RANDOM");}


OBJECT=BFITMP684
BFITMP684:TYPE=BEHAVIOUR
BFITMP684:CODE={@IF("G_IKRETACTIVE'1","{BEHLOADSEQARR^RUN("KRETESWOLNY_RANDOM");}","{BEHLOADSEQARR^RUN("KRETESWBITY_RANDOM");}");}


OBJECT=BFITMP685
BFITMP685:TYPE=BEHAVIOUR
BFITMP685:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("OGLOSZENIE1"));*VARSTEMP0^HIDE();VARSTEMP0^SET(BEHGETOBJECT^RUN("OGLOSZENIE2"));*VARSTEMP0^HIDE();}


OBJECT=BFITMP686
BFITMP686:TYPE=BEHAVIOUR
BFITMP686:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("KRET"));*VARSTEMP0^HIDE();}


OBJECT=BFITMP687
BFITMP687:TYPE=BEHAVIOUR
BFITMP687:CODE={STL9^PLAY("ELAPSE");}


OBJECT=BFITMP688
BFITMP688:TYPE=BEHAVIOUR
BFITMP688:CODE={BEHSELECTOBJS^RUN("KURA");SOBJECT|IPARAM0^SET(2);BEHUPDATEOBJECTS^RUN();BEHADDITEM^RUN("LICENCJA_BUT",-1);BEHLOADSEQARREX^RUN("USE_PIORKO",FALSE);}


OBJECT=BFITMP689
BFITMP689:TYPE=BEHAVIOUR
BFITMP689:CODE={G_MENU^ADDEXP(10);BEHSELECTOBJS^RUN("KURA");SOBJECT|IPARAM0^SET(1);BEHUPDATEOBJECTS^RUN();BEHREMOVEITEM^RUN(VARSITEMTO);@IF(BEHISASKED^RUN("41"),"_","TRUE","BFITMP688","");}


OBJECT=BFITMP690
BFITMP690:TYPE=BEHAVIOUR
BFITMP690:CODE={BEHREMOVEITEM^RUN(VARSITEMTO);G_MENU^ADDEXP(20);BEHLOADSEQARREX^RUN("USE_ELIKSIR",FALSE);}


OBJECT=BFITMP691
BFITMP691:TYPE=BEHAVIOUR
BFITMP691:CODE={VARSTEMP0^SET(["ANNOBJECT"+VARITEMP1]);*VARSTEMP0^PLAY("STATE1");VARITEMP1^ADD(11);WPATH^SETPOSITION(100,ARRGOTOX^GET(VARITEMP1),[ARRGOTOY^GET(VARITEMP1)-10],0);WPATH^FINDPATH(100,VARIPATHID,ARRGOTOX^GET(VARITEMP1),[ARRGOTOY^GET(VARITEMP1)+20],0,TRUE,FALSE);}


OBJECT=BFITMP692
BFITMP692:TYPE=BEHAVIOUR
BFITMP692:CODE={WPATH^SETPOSITION(100,ARRGOTOX^GET(31),ARRGOTOY^GET(31),0);WPATH^FINDPATH(100,VARIPATHID,[ARRGOTOX^GET(31)-40],ARRGOTOY^GET(31),0,TRUE,FALSE);}


OBJECT=BFITMP693
BFITMP693:TYPE=BEHAVIOUR
BFITMP693:CODE={BEHTALKIDLE^RUN(1,"K_MIASTO_",1,8);}


OBJECT=BFITMP694
BFITMP694:TYPE=BEHAVIOUR
BFITMP694:CODE={BEHLOADSEQARR^RUN("KURA_SAOGLASZENIA");}


OBJECT=BFITMP695
BFITMP695:TYPE=BEHAVIOUR
BFITMP695:CODE={VARITEMP0^SET(0);BEHSELECTOBJS^RUN("OGLOSZENIE1");VARITEMP0^ADD(SOBJECT|IPARAM0);BEHSELECTOBJS^RUN("OGLOSZENIE2");VARITEMP0^ADD(SOBJECT|IPARAM0);@IF("VARITEMP0",">","0","BFITMP694","");}


OBJECT=BFITMP696
BFITMP696:TYPE=BEHAVIOUR
BFITMP696:CODE={SOBJECT|IPARAM0^SET(2);BEHUPDATEOBJECTS^RUN();BEHADDITEM^RUN("LICENCJA_BUT",-1);BEHLOADSEQARR^RUN("USE_PIORKO");}


OBJECT=BFITMP697
BFITMP697:TYPE=BEHAVIOUR
BFITMP697:CODE={BEHLOADSEQARR^RUN("KURA_RANDOM");}


OBJECT=BFITMP698
BFITMP698:TYPE=BEHAVIOUR
BFITMP698:CODE={BEHLOADSEQARR^RUN("KURA_BEZPIORA");}


OBJECT=BFITMP699
BFITMP699:TYPE=BEHAVIOUR
BFITMP699:CODE={BEHLOADSEQARR^RUN("KURA_RANDOM");}


OBJECT=BFITMP700
BFITMP700:TYPE=BEHAVIOUR
BFITMP700:CODE={@IF(BEHISASKED^RUN("41"),"_","TRUE","BFITMP696","BFITMP697");}


OBJECT=BFITMP701
BFITMP701:TYPE=BEHAVIOUR
BFITMP701:CODE={@IF("SOBJECT|IPARAM0'0&&BEHISASKED^RUN("41")'TRUE","BFITMP698","");@IF("SOBJECT|IPARAM0'0&&BEHISASKED^RUN("41")'FALSE","BFITMP699","");}


OBJECT=BFITMP702
BFITMP702:TYPE=BEHAVIOUR
BFITMP702:CODE={STEMPOBJ|IPARAM1^SET(1);BEHUPDATETEMPOBJ^RUN();}


OBJECT=BFITMP703
BFITMP703:TYPE=BEHAVIOUR
BFITMP703:CODE={@LOOP("{BEHLOADTEMPOBJ^RUN(ARRKRETS^GET(_I_));BEHSELECTTEMPOBJT^RUN(140);@IF("VARBTEMP0","_","TRUE","BFITMP702","");}",0,ARRKRETS^GETSIZE(),1);G_SCUTSCENE^SET("C_ZMNIEJSZENIE");VARSTEMP0^SET(BEHGETOBJECT^RUN("KRET"));*VARSTEMP0^HIDE();G_IKRETACTIVE^SET(1);ANNKRET^SHOW();WPATH^SETPOSITION(101,[WPATH^GETPOSITIONX(100)+50],WPATH^GETPOSITIONY(100),0);}


OBJECT=BFITMP704
BFITMP704:TYPE=BEHAVIOUR
BFITMP704:CODE={VARSGADA^SET(BEHGETOBJECT^RUN("KURA"));BEHSELECTOBJS^RUN("KURA");ANNCHARACTER^LOAD(SOBJECT|NAME);}


OBJECT=BFITMP705
BFITMP705:TYPE=BEHAVIOUR
BFITMP705:CODE={BEHGOTO^RUN("RATUSZ");}


