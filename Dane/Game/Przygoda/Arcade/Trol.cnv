OBJECT=BEHINITSCRIPT
BEHINITSCRIPT:TYPE=BEHAVIOUR
BEHINITSCRIPT:CODE={@IF(BEHISFIRSTENTER^RUN(),"_","TRUE","BFITMP619","");BEHSELECTOBJS^RUN("LAS");@IF("SOBJECT|IPARAM0","_","1","BFITMP620","BFITMP621");STL9^PLAY("ELAPSE");}


OBJECT=BEHSPYMOVE
BEHSPYMOVE:TYPE=BEHAVIOUR
BEHSPYMOVE:CODE={}


OBJECT=BEHPOSTMOVE
BEHPOSTMOVE:TYPE=BEHAVIOUR
BEHPOSTMOVE:CODE={}


OBJECT=SNDTROLL
SNDTROLL:TYPE=SOUND
SNDTROLL:FILENAME=TROLL2_K179.WAV
SNDTROLL:PRELOAD=FALSE
SNDTROLL:FLUSHAFTERPLAYED=FALSE
SNDTROLL:ONFINISHED={BEHLOADSEQARR^RUN("TROL_WSTAL");}


OBJECT=STL9
STL9:TYPE=ANIMO
STL9:VISIBLE=TRUE
STL9:FILENAME=$COMMON\STL9.ANN
STL9:TOCANVAS=TRUE
STL9:PRIORITY=0
STL9:FPS=16
STL9:PRELOAD=TRUE
STL9:RELEASE=TRUE
STL9:MONITORCOLLISION=FALSE
STL9:MONITORCOLLISIONALPHA=FALSE
STL9:ONFRAMECHANGED^ELAPSE={VARSTEMP0^SET(BEHGETOBJECT^RUN("TROLL"));@IF("*VARSTEMP0^GETFRAMENAME()'10","{SNDTROLL^PLAY();STL9^STOP(FALSE);}","");}


OBJECT=BEHUSE
BEHUSE:TYPE=BEHAVIOUR
BEHUSE:CODE={BEHHIDECURRENTITEM^RUN();@IF("VARSITEMTO'"GRZEBIEN_BUT"&&VARSITEMON'"TROLL"","BFITMP622","");}


OBJECT=BEHFINISHEDS0_LAS
BEHFINISHEDS0_LAS:TYPE=BEHAVIOUR
BEHFINISHEDS0_LAS:CODE={WPATH^SETACTIVE(9000,10,TRUE);VARSTEMP0^SET(BEHGETOBJECT^RUN("PROMIEN"));*VARSTEMP0^HIDE();BEHSELECTOBJS^RUN("DO_SEZAMU");SOBJECT|TYPE^SET(3);BEHUPDATEOBJECTS^RUN();G_CURSOR^SETARCADE("TROL");}


OBJECT=BEHKRETIDLE
BEHKRETIDLE:TYPE=BEHAVIOUR
BEHKRETIDLE:CODE={@IF("SNDTROLL^ISPLAYING()'FALSE","{BEHTALKIDLE^RUN(1,"K_BAJKI_",1,17);}","");}


OBJECT=BEHSEQFINISHED
BEHSEQFINISHED:TYPE=BEHAVIOUR
BEHSEQFINISHED:CODE={@IF("VARSSEQNAME","_",""USE_GRZEBIEN"","BFITMP623","");@IF("VARSSEQNAME","_",""TROL_SIEDZI"","BFITMP624","");}


OBJECT=BEHFINISHEDS1_TROLL
BEHFINISHEDS1_TROLL:TYPE=BEHAVIOUR
BEHFINISHEDS1_TROLL:CODE={BEHLOADSEQARR^RUN("TROL_SIEDZI");}


OBJECT=BFITMP617
BFITMP617:TYPE=BEHAVIOUR
BFITMP617:CODE={BEHLOADSEQARREX^RUN("WST0_ZK",FALSE);}


OBJECT=BFITMP618
BFITMP618:TYPE=BEHAVIOUR
BFITMP618:CODE={BEHLOADSEQARREX^RUN("WST0_BK",FALSE);}


OBJECT=BFITMP619
BFITMP619:TYPE=BEHAVIOUR
BFITMP619:CODE={@IF(BEHFINDITEM^RUN("KAMIEN_BUT"),">","-1","BFITMP617","BFITMP618");}


OBJECT=BFITMP620
BFITMP620:TYPE=BEHAVIOUR
BFITMP620:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("LAS"));*VARSTEMP0^STOP(FALSE);*VARSTEMP0^SETFRAME("STATE0",8);VARSTEMP0^SET(BEHGETOBJECT^RUN("PROMIEN"));*VARSTEMP0^STOP(FALSE);*VARSTEMP0^HIDE();VARSTEMP0^SET(BEHGETOBJECT^RUN("TROLL"));*VARSTEMP0^STOP(FALSE);*VARSTEMP0^SETFRAME("STATE0",28);BEHSELECTOBJS^RUN("DO_SEZAMU");SOBJECT|TYPE^SET(3);BEHUPDATEOBJECTS^RUN();WPATH^SETACTIVE(9000,10,TRUE);}


OBJECT=BFITMP621
BFITMP621:TYPE=BEHAVIOUR
BFITMP621:CODE={BEHSELECTOBJS^RUN("DO_SEZAMU");SOBJECT|TYPE^SET(0);BEHUPDATEOBJECTS^RUN();WPATH^SETACTIVE(9000,10,FALSE);}


OBJECT=BFITMP622
BFITMP622:TYPE=BEHAVIOUR
BFITMP622:CODE={BEHREMOVEITEM^RUN(VARSITEMTO);G_MENU^ADDEXP(20);BEHSELECTOBJS^RUN("LAS");SOBJECT|IPARAM0^SET(1);BEHUPDATEOBJECTS^RUN();BEHLOADSEQARREX^RUN("USE_GRZEBIEN",FALSE);}


OBJECT=BFITMP623
BFITMP623:TYPE=BEHAVIOUR
BFITMP623:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("LAS"));*VARSTEMP0^PLAY("STATE0");VARSTEMP0^SET(BEHGETOBJECT^RUN("TROLL"));*VARSTEMP0^PLAY("STATE1");}


OBJECT=BFITMP624
BFITMP624:TYPE=BEHAVIOUR
BFITMP624:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("TROLL"));*VARSTEMP0^SETPRIORITY(500);*VARSTEMP0^PLAY("STATE0");}


