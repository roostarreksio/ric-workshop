OBJECT=VARIWITH
VARIWITH:TYPE=INTEGER

OBJECT=BEHINITSCRIPT
BEHINITSCRIPT:TYPE=BEHAVIOUR
BEHINITSCRIPT:CODE={BEHSELECTOBJ^RUN(3);@IF("SOBJECT|IPARAM0","_","0","BFITMP471","");BEHSELECTOBJ^RUN(4);@IF("SOBJECT|IPARAM0","_","0","BFITMP472","");BEHSELECTOBJ^RUN(0);VARIWITH^SET(SOBJECT|IPARAM0);@IF("VARIWITH","_","1","BFITMP473","BFITMP474");BEHSELECTOBJS^RUN("KOSZYK");@IF("SOBJECT|IPARAM0","_","1","BFITMP475","");STL9^PLAY("ELAPSE");}

OBJECT=STL9
STL9:TYPE=ANIMO
STL9:VISIBLE=TRUE
STL9:FILENAME=$COMMON\STL9.ANN
STL9:TOCANVAS=TRUE
STL9:PRIORITY=0
STL9:FPS=16
STL9:PRELOAD=TRUE
STL9:RELEASE=TRUE
STL9:MONITORCOLLISION=FALSE
STL9:MONITORCOLLISIONALPHA=FALSE
STL9:ONFRAMECHANGED^ELAPSE={VARIRANDOM^INC();}

OBJECT=DELAYARR
DELAYARR:TYPE=BOOL
DELAYARR:VALUE=FALSE

OBJECT=VARIRANDOM
VARIRANDOM:TYPE=INTEGER
VARIRANDOM:ONCHANGED^200={@IF("VARBSEQPLAYING'FALSE&&VARIWITH'0","{BEHLOADSEQARR^RUN("IDLE_ZABA_BEZ_KAPTURKA");}","");VARIRANDOM^SET(0);}
VARIRANDOM:ONCHANGED^2={@IF("DELAYARR'TRUE","{DELAYARR^SET(FALSE);@IF(BEHFINDITEM^RUN("KAMIEN_BUT"),">","-1","BFITMP476","BFITMP477");}","");}


OBJECT=BEHSPYMOVE
BEHSPYMOVE:TYPE=BEHAVIOUR
BEHSPYMOVE:CODE={}


OBJECT=BEHPOSTMOVE
BEHPOSTMOVE:TYPE=BEHAVIOUR
BEHPOSTMOVE:CODE={}


OBJECT=BEHUSE
BEHUSE:TYPE=BEHAVIOUR
BEHUSE:CODE={BEHHIDECURRENTITEM^RUN();@IF("VARSITEMTO'"KAPTUREK_CALY_BUT"&&VARSITEMON'"ZABA_BEZ_KAPTURKA"","BFITMP478","");}


OBJECT=BEHCLICK_DO_MIOTLISKA
BEHCLICK_DO_MIOTLISKA:TYPE=BEHAVIOUR
BEHCLICK_DO_MIOTLISKA:CODE={BEHGOTO^RUN("MIOTLISKO");}


OBJECT=BEHCLICK_DO_CALINECZKI
BEHCLICK_DO_CALINECZKI:TYPE=BEHAVIOUR
BEHCLICK_DO_CALINECZKI:CODE={BEHGOTO^RUN("CALINECZKA");}


OBJECT=BEHCLICK_DO_SNIEZKI
BEHCLICK_DO_SNIEZKI:TYPE=BEHAVIOUR
BEHCLICK_DO_SNIEZKI:CODE={BEHGOTO^RUN("SNIEZKA");}


OBJECT=BEHCLICK_ZABA_BEZ_KAPTURKA
BEHCLICK_ZABA_BEZ_KAPTURKA:TYPE=BEHAVIOUR
BEHCLICK_ZABA_BEZ_KAPTURKA:CODE={SNDATGOAL^STOP(TRUE);}


OBJECT=BEHCLICK_KAPTUREK_PORWANY
BEHCLICK_KAPTUREK_PORWANY:TYPE=BEHAVIOUR
BEHCLICK_KAPTUREK_PORWANY:CODE={SNDATGOAL^STOP(TRUE);}


OBJECT=BEHAUXGADA
BEHAUXGADA:TYPE=BEHAVIOUR
BEHAUXGADA:CODE={@IF("VARSTEMP0","_",""KAPTUREK"","BFITMP481","");}


OBJECT=BEHKRETIDLE
BEHKRETIDLE:TYPE=BEHAVIOUR
BEHKRETIDLE:CODE={BEHTALKIDLE^RUN(1,"K_BAJKI_",1,17);}


OBJECT=BEHSEQFINISHED
BEHSEQFINISHED:TYPE=BEHAVIOUR
BEHSEQFINISHED:CODE={@IF("VARSSEQNAME'"USEKAPTUREK_ZK"||VARSSEQNAME'"USEKAPTUREK_BK"","BFITMP482","");}


OBJECT=BFITMP471
BFITMP471:TYPE=BEHAVIOUR
BFITMP471:CODE={ANNOBJECT3^STOP(FALSE);ANNOBJECT3^HIDE();}


OBJECT=BFITMP472
BFITMP472:TYPE=BEHAVIOUR
BFITMP472:CODE={ANNOBJECT4^STOP(FALSE);ANNOBJECT4^HIDE();}


OBJECT=BFITMP473
BFITMP473:TYPE=BEHAVIOUR
BFITMP473:CODE={ANNOBJECT4^HIDE();ANNOBJECT3^SHOW();}


OBJECT=BFITMP474
BFITMP474:TYPE=BEHAVIOUR
BFITMP474:CODE={ANNOBJECT4^SHOW();ANNOBJECT3^HIDE();}


OBJECT=BFITMP475
BFITMP475:TYPE=BEHAVIOUR
BFITMP475:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("KOSZYK"));*VARSTEMP0^HIDE();}


OBJECT=BFITMP476
BFITMP476:TYPE=BEHAVIOUR
BFITMP476:CODE={BEHLOADSEQARREX^RUN("USEKAPTUREK_ZK",FALSE);}


OBJECT=BFITMP477
BFITMP477:TYPE=BEHAVIOUR
BFITMP477:CODE={BEHLOADSEQARREX^RUN("USEKAPTUREK_BK",FALSE);}


OBJECT=BFITMP478
BFITMP478:TYPE=BEHAVIOUR
BFITMP478:CODE={BEHREMOVEITEM^RUN(VARSITEMTO);BEHADDITEM^RUN("KOSZYK_BUT",-1);G_MENU^ADDEXP(10);SNDATGOAL^STOP(TRUE);DELAYARR^SET(TRUE);VARIRANDOM^SET(0);BEHSELECTOBJ^RUN(0);SOBJECT|IPARAM0^SET(1);BEHUPDATEOBJECTS^RUN();BEHSELECTOBJS^RUN("KOSZYK");SOBJECT|IPARAM0^SET(1);BEHUPDATEOBJECTS^RUN();VARSTEMP0^SET(BEHGETOBJECT^RUN("KOSZYK"));*VARSTEMP0^HIDE();}


OBJECT=BFITMP479
BFITMP479:TYPE=BEHAVIOUR
BFITMP479:CODE={VARSGADA^SET(BEHGETOBJECT^RUN("ZABA_BEZ_KAPTURKA"));BEHSELECTOBJS^RUN("ZABA_BEZ_KAPTURKA");ANNCHARACTER^LOAD(SOBJECT|NAME);}


OBJECT=BFITMP480
BFITMP480:TYPE=BEHAVIOUR
BFITMP480:CODE={VARSGADA^SET(BEHGETOBJECT^RUN("ZABA_Z_KAPTURKIEM"));BEHSELECTOBJS^RUN("ZABA_Z_KAPTURKIEM");ANNCHARACTER^LOAD(SOBJECT|NAME);}


OBJECT=BFITMP481
BFITMP481:TYPE=BEHAVIOUR
BFITMP481:CODE={@IF("VARIWITH","_","0","BFITMP479","BFITMP480");}


OBJECT=BFITMP482
BFITMP482:TYPE=BEHAVIOUR
BFITMP482:CODE={ANNOBJECT4^HIDE();ANNOBJECT3^SHOW();VARIWITH^SET(1);}


