OBJECT=VARINUMDODOS
VARINUMDODOS:TYPE=INTEGER

OBJECT=VARSDODOPREFIX
VARSDODOPREFIX:TYPE=STRING

OBJECT=ANNDODO0
ANNDODO0:TYPE=ANIMO
ANNDODO0:VISIBLE=TRUE
ANNDODO0:FILENAME=TEMPLATE.ANN
ANNDODO0:TOCANVAS=TRUE
ANNDODO0:PRIORITY=0
ANNDODO0:FPS=16
ANNDODO0:PRELOAD=TRUE
ANNDODO0:RELEASE=TRUE
ANNDODO0:MONITORCOLLISION=FALSE
ANNDODO0:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNDODO1
ANNDODO1:TYPE=ANIMO
ANNDODO1:VISIBLE=TRUE
ANNDODO1:FILENAME=TEMPLATE.ANN
ANNDODO1:TOCANVAS=TRUE
ANNDODO1:PRIORITY=0
ANNDODO1:FPS=16
ANNDODO1:PRELOAD=TRUE
ANNDODO1:RELEASE=TRUE
ANNDODO1:MONITORCOLLISION=FALSE
ANNDODO1:MONITORCOLLISIONALPHA=FALSE

OBJECT=ANNDODO2
ANNDODO2:TYPE=ANIMO
ANNDODO2:VISIBLE=TRUE
ANNDODO2:FILENAME=TEMPLATE.ANN
ANNDODO2:TOCANVAS=TRUE
ANNDODO2:PRIORITY=0
ANNDODO2:FPS=16
ANNDODO2:PRELOAD=TRUE
ANNDODO2:RELEASE=TRUE
ANNDODO2:MONITORCOLLISION=FALSE
ANNDODO2:MONITORCOLLISIONALPHA=FALSE

OBJECT=ARRDODOS
ARRDODOS:TYPE=ARRAY

OBJECT=ARRANIM0
ARRANIM0:TYPE=ARRAY

OBJECT=ARRANIM1
ARRANIM1:TYPE=ARRAY

OBJECT=ARRANIM2
ARRANIM2:TYPE=ARRAY

OBJECT=BEHINITSCRIPT
BEHINITSCRIPT:TYPE=BEHAVIOUR
BEHINITSCRIPT:CODE={BEHTOGGLEKRET^RUN();@IF("G_IKRETACTIVE'1&&BEHISFIRSTENTER^RUN()'FALSE","BFITMP231","");ANNDODO0^HIDE();ANNDODO1^HIDE();ANNDODO2^HIDE();BEHLOADDODOS^RUN();@IF("G_SLASTOBJECTS","_",""ALCHEMY"","BFITMP232","");BEHSELECTOBJS^RUN("NAKLADKA2");@IF("SOBJECT|IPARAM0","_","0","BFITMP233","");BEHSELECTOBJS^RUN("SKRZYNIA3");@IF("SOBJECT|IPARAM0","_","1","BFITMP234","");BEHSELECTOBJS^RUN("SKRZYNIA4");@IF("SOBJECT|IPARAM0","_","1","BFITMP235","");BEHSELECTOBJ^RUN(12);@IF("SOBJECT|IPARAM0","_","1","BFITMP236","");@LOOP("{VARITER^SET(_I_);BEHSELECTOBJ^RUN(VARITER);VARSTEMP0^SET(["ANNOBJECT"+VARITER]);VARITER^MUL(10);@IF("SOBJECT|IPARAM0","_","1","BFITMP237","BFITMP238");}",1,8,1);BEHSELECTOBJ^RUN(15);@IF("SOBJECT|IPARAM0","_","0","BFITMP239","BFITMP240");BEHSELECTOBJ^RUN(23);@IF("SOBJECT|IPARAM0","_","0","BFITMP241","BFITMP242");BEHSELECTOBJ^RUN(29);@IF("SOBJECT|IPARAM0","_","0","BFITMP243","BFITMP244");BEHSELECTOBJ^RUN(25);@IF("SOBJECT|IPARAM0","_","0","BFITMP245","BFITMP246");BEHSELECTOBJ^RUN(22);@IF("SOBJECT|IPARAM0","_","0","BFITMP247","");}


OBJECT=BEHSPYMOVE
BEHSPYMOVE:TYPE=BEHAVIOUR
BEHSPYMOVE:CODE={}


OBJECT=BEHUSE
BEHUSE:TYPE=BEHAVIOUR
BEHUSE:CODE={}


OBJECT=BEHCLICK_BECZKA1
BEHCLICK_BECZKA1:TYPE=BEHAVIOUR
BEHCLICK_BECZKA1:CODE={BEHBECZKA^RUN(1);}


OBJECT=BEHCLICK_BECZKA2
BEHCLICK_BECZKA2:TYPE=BEHAVIOUR
BEHCLICK_BECZKA2:CODE={BEHBECZKA^RUN(2);}


OBJECT=BEHCLICK_BECZKA3
BEHCLICK_BECZKA3:TYPE=BEHAVIOUR
BEHCLICK_BECZKA3:CODE={BEHBECZKA^RUN(3);}


OBJECT=BEHCLICK_BECZKA4
BEHCLICK_BECZKA4:TYPE=BEHAVIOUR
BEHCLICK_BECZKA4:CODE={BEHBECZKA^RUN(4);}


OBJECT=BEHCLICK_BECZKA5
BEHCLICK_BECZKA5:TYPE=BEHAVIOUR
BEHCLICK_BECZKA5:CODE={BEHBECZKA^RUN(5);}


OBJECT=BEHCLICK_BECZKA6
BEHCLICK_BECZKA6:TYPE=BEHAVIOUR
BEHCLICK_BECZKA6:CODE={BEHBECZKA^RUN(6);}


OBJECT=BEHCLICK_BECZKA7
BEHCLICK_BECZKA7:TYPE=BEHAVIOUR
BEHCLICK_BECZKA7:CODE={BEHBECZKA^RUN(7);}


OBJECT=BEHCLICK_BECZKA8
BEHCLICK_BECZKA8:TYPE=BEHAVIOUR
BEHCLICK_BECZKA8:CODE={BEHBECZKA^RUN(8);}


OBJECT=BEHBECZKA
BEHBECZKA:TYPE=BEHAVIOUR
BEHBECZKA:CODE={VARITER^SET($1);BEHSELECTOBJ^RUN(VARITER);SOBJECT|IPARAM0^SET(0);VARSTEMP0^SET(["ANNOBJECT"+VARITER]);*VARSTEMP0^PLAY("STATE0");DBOBJECTS_CURSOR^SET("SOBJECT");DBOBJECTS^SAVE(VARSCURRARCADE);}


OBJECT=BEHFINISHEDS0_BECZKA1
BEHFINISHEDS0_BECZKA1:TYPE=BEHAVIOUR
BEHFINISHEDS0_BECZKA1:CODE={WPATH^SETACTIVE(9000,20,TRUE);}


OBJECT=BEHFINISHEDS0_BECZKA2
BEHFINISHEDS0_BECZKA2:TYPE=BEHAVIOUR
BEHFINISHEDS0_BECZKA2:CODE={WPATH^SETACTIVE(9000,50,TRUE);}


OBJECT=BEHFINISHEDS0_BECZKA3
BEHFINISHEDS0_BECZKA3:TYPE=BEHAVIOUR
BEHFINISHEDS0_BECZKA3:CODE={WPATH^SETACTIVE(9000,70,TRUE);}


OBJECT=BEHFINISHEDS0_BECZKA4
BEHFINISHEDS0_BECZKA4:TYPE=BEHAVIOUR
BEHFINISHEDS0_BECZKA4:CODE={WPATH^SETACTIVE(9000,80,TRUE);}


OBJECT=BEHFINISHEDS0_BECZKA5
BEHFINISHEDS0_BECZKA5:TYPE=BEHAVIOUR
BEHFINISHEDS0_BECZKA5:CODE={WPATH^SETACTIVE(9000,30,TRUE);}


OBJECT=BEHFINISHEDS0_BECZKA6
BEHFINISHEDS0_BECZKA6:TYPE=BEHAVIOUR
BEHFINISHEDS0_BECZKA6:CODE={WPATH^SETACTIVE(9000,80,TRUE);}


OBJECT=BEHFINISHEDS0_BECZKA7
BEHFINISHEDS0_BECZKA7:TYPE=BEHAVIOUR
BEHFINISHEDS0_BECZKA7:CODE={WPATH^SETACTIVE(9000,40,TRUE);}


OBJECT=BEHFINISHEDS0_BECZKA8
BEHFINISHEDS0_BECZKA8:TYPE=BEHAVIOUR
BEHFINISHEDS0_BECZKA8:CODE={WPATH^SETACTIVE(9000,60,TRUE);}


OBJECT=BEHCLICK_PACZKA1A
BEHCLICK_PACZKA1A:TYPE=BEHAVIOUR
BEHCLICK_PACZKA1A:CODE={BEHSELECTOBJ^RUN(23);SOBJECT|IPARAM0^SET(0);DBOBJECTS_CURSOR^SET("SOBJECT");DBOBJECTS^SAVE(VARSCURRARCADE);ANNOBJECT23^PLAY("STATE0");}


OBJECT=BEHCLICK_SKRZYNIA2A
BEHCLICK_SKRZYNIA2A:TYPE=BEHAVIOUR
BEHCLICK_SKRZYNIA2A:CODE={BEHSELECTOBJ^RUN(23);@IF("SOBJECT|IPARAM0","_","0","BFITMP248","");}


OBJECT=BEHCLICK_PACZKA3A
BEHCLICK_PACZKA3A:TYPE=BEHAVIOUR
BEHCLICK_PACZKA3A:CODE={BEHSELECTOBJ^RUN(25);SOBJECT|IPARAM0^SET(0);DBOBJECTS_CURSOR^SET("SOBJECT");DBOBJECTS^SAVE(VARSCURRARCADE);ANNOBJECT25^PLAY("STATE0");}


OBJECT=BEHCLICK_GARNEK
BEHCLICK_GARNEK:TYPE=BEHAVIOUR
BEHCLICK_GARNEK:CODE={BEHSELECTOBJ^RUN(15);SOBJECT|IPARAM0^SET(0);DBOBJECTS_CURSOR^SET("SOBJECT");DBOBJECTS^SAVE(VARSCURRARCADE);ANNOBJECT15^PLAY("STATE0");}


OBJECT=BEHCLICK_BOBKI
BEHCLICK_BOBKI:TYPE=BEHAVIOUR
BEHCLICK_BOBKI:CODE={ANNOBJECT22^PLAY("STATE0");}


OBJECT=BEHFINISHEDS0_PACZKA1A
BEHFINISHEDS0_PACZKA1A:TYPE=BEHAVIOUR
BEHFINISHEDS0_PACZKA1A:CODE={ANNOBJECT23^HIDE();ANNOBJECT24^SHOW();}


OBJECT=BEHFINISHEDS0_SKRZYNIA2A
BEHFINISHEDS0_SKRZYNIA2A:TYPE=BEHAVIOUR
BEHFINISHEDS0_SKRZYNIA2A:CODE={BEHSELECTOBJ^RUN(29);SOBJECT|IPARAM0^SET(0);DBOBJECTS_CURSOR^SET("SOBJECT");DBOBJECTS^SAVE(VARSCURRARCADE);ANNOBJECT29^HIDE();ANNOBJECT30^SHOW();WPATH^SETACTIVE(9000,100,TRUE);}


OBJECT=BEHFINISHEDS0_PACZKA3A
BEHFINISHEDS0_PACZKA3A:TYPE=BEHAVIOUR
BEHFINISHEDS0_PACZKA3A:CODE={ANNOBJECT25^HIDE();ANNOBJECT26^SHOW();}


OBJECT=BEHFINISHEDS0_GARNEK
BEHFINISHEDS0_GARNEK:TYPE=BEHAVIOUR
BEHFINISHEDS0_GARNEK:CODE={ANNOBJECT15^HIDE();ANNOBJECT16^SHOW();}


OBJECT=BEHCLICK_DO_APARATUSA
BEHCLICK_DO_APARATUSA:TYPE=BEHAVIOUR
BEHCLICK_DO_APARATUSA:CODE={BEHGOTO^RUN("ALCHEMY");}


OBJECT=BEHCLICK_WYJSCIE
BEHCLICK_WYJSCIE:TYPE=BEHAVIOUR
BEHCLICK_WYJSCIE:CODE={BEHGOTO^RUN("DOMALCHOMIKA");}


OBJECT=BEHLOADDODOS
BEHLOADDODOS:TYPE=BEHAVIOUR
BEHLOADDODOS:CODE={BEHLOADTEMPOBJ^RUN("ALCHEMY");BEHSELECTTEMPOBJ^RUN(0);VARINUMDODOS^SET(STEMPOBJ|IPARAM2);VARSDODOPREFIX^SET(STEMPOBJ|SPARAM1);ANNDODO2^LOAD("PIWNICA\DODO1.ANN");ANNDODO1^LOAD("PIWNICA\DODO2.ANN");ANNDODO0^LOAD("PIWNICA\DODO3.ANN");ANNDODO0^HIDE();ANNDODO1^HIDE();ANNDODO2^HIDE();ANNDODO2^CLONE(17);ANNDODO1^CLONE(8);ANNDODO0^CLONE(23);ARRANIM0^ADD(0,0,0,0,0,0,0,0,10,26,14,18,22,6,30,3,11,27,15,19,7,31,23);ARRANIM1^ADD(0,10,26,14,18,22,6,30);ARRANIM2^ADD(3,11,27,15,19,23,7,31,0,2,10,26,14,18,22,6,30);ANNDODO0^CLONE(ARRANIM0^GETSIZE());ANNDODO1^CLONE(ARRANIM1^GETSIZE());ANNDODO2^CLONE(ARRANIM2^GETSIZE());@IF("VARINUMDODOS",">","0","BFITMP249","");}


OBJECT=BEHPLACEDODOS
BEHPLACEDODOS:TYPE=BEHAVIOUR
BEHPLACEDODOS:CODE={@LOOP("{VARITEMP0^SET(_I_);VARITEMP1^SET(0);VARSTEMP1^SET(["ARRANIM"+_I_]);@LOOP("{VARITER^SET(_I_);VARITEMP2^SET(*VARSTEMP1^FIND(ARRDODOS^GET(VARITER)));@IF("VARITEMP2",">","-1","BFITMP253","");}",0,ARRDODOS^GETSIZE(),1);}",0,3,1);}


OBJECT=BEHKRETIDLE
BEHKRETIDLE:TYPE=BEHAVIOUR
BEHKRETIDLE:CODE={BEHTALKIDLE^RUN(1,"K_MIASTO_",1,8);}


OBJECT=BEHCLICK_SKRZYNIA3
BEHCLICK_SKRZYNIA3:TYPE=BEHAVIOUR
BEHCLICK_SKRZYNIA3:CODE={@IF("ANNOBJECT25^ISVISIBLE()'FALSE&&ANNOBJECT15^ISVISIBLE()'FALSE","BFITMP254","");}


OBJECT=BEHFINISHEDS0_SKRZYNIA3
BEHFINISHEDS0_SKRZYNIA3:TYPE=BEHAVIOUR
BEHFINISHEDS0_SKRZYNIA3:CODE={BEHSELECTOBJS^RUN("SKRZYNIA3");SOBJECT|IPARAM0^SET(1);BEHUPDATEOBJECTS^RUN();BEHSELECTOBJS^RUN("SKRZYNIA4");@IF("SOBJECT|IPARAM0","_","1","BFITMP255","");}


OBJECT=BEHFINISHEDS0_SKRZYNIA4
BEHFINISHEDS0_SKRZYNIA4:TYPE=BEHAVIOUR
BEHFINISHEDS0_SKRZYNIA4:CODE={BEHSELECTOBJS^RUN("SKRZYNIA4");SOBJECT|IPARAM0^SET(1);BEHUPDATEOBJECTS^RUN();BEHSELECTOBJS^RUN("SKRZYNIA3");@IF("SOBJECT|IPARAM0","_","1","BFITMP256","");}


OBJECT=BEHCLICK_SKRZYNIA4
BEHCLICK_SKRZYNIA4:TYPE=BEHAVIOUR
BEHCLICK_SKRZYNIA4:CODE={@IF("ANNOBJECT25^ISVISIBLE()'FALSE&&ANNOBJECT15^ISVISIBLE()'FALSE","BFITMP257","");}


OBJECT=BEHCLICK_DO_PODZIEMI
BEHCLICK_DO_PODZIEMI:TYPE=BEHAVIOUR
BEHCLICK_DO_PODZIEMI:CODE={BEHSELECTOBJS^RUN("DO_PODZIEMI");@IF("SOBJECT|IPARAM0","_","0","BFITMP258","");G_SARCADEOBJECTS^SET("0");PRZYGODA^GOTO("LABIRYNT");@BREAK();}


OBJECT=BFITMP231
BFITMP231:TYPE=BEHAVIOUR
BFITMP231:CODE={BEHLOADSEQARR^RUN("WST_ZKRETESEM");}


OBJECT=BFITMP232
BFITMP232:TYPE=BEHAVIOUR
BFITMP232:CODE={WPATH^SETPOSITION(100,694,368,0);WPATH^FINDPATH(100,VARIPATHID,639,423,0);}


OBJECT=BFITMP233
BFITMP233:TYPE=BEHAVIOUR
BFITMP233:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("NAKLADKA2"));*VARSTEMP0^STOP(FALSE);*VARSTEMP0^HIDE();}


OBJECT=BFITMP234
BFITMP234:TYPE=BEHAVIOUR
BFITMP234:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("SKRZYNIA3"));*VARSTEMP0^STOP(FALSE);*VARSTEMP0^HIDE();}


OBJECT=BFITMP235
BFITMP235:TYPE=BEHAVIOUR
BFITMP235:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("SKRZYNIA4"));*VARSTEMP0^STOP(FALSE);*VARSTEMP0^HIDE();}


OBJECT=BFITMP236
BFITMP236:TYPE=BEHAVIOUR
BFITMP236:CODE={ANNOBJECT12^HIDE();}


OBJECT=BFITMP237
BFITMP237:TYPE=BEHAVIOUR
BFITMP237:CODE={WPATH^SETACTIVE(9000,VARITER,FALSE);}


OBJECT=BFITMP238
BFITMP238:TYPE=BEHAVIOUR
BFITMP238:CODE={*VARSTEMP0^HIDE();WPATH^SETACTIVE(9000,VARITER,TRUE);}


OBJECT=BFITMP239
BFITMP239:TYPE=BEHAVIOUR
BFITMP239:CODE={ANNOBJECT15^HIDE();ANNOBJECT16^SHOW();}


OBJECT=BFITMP240
BFITMP240:TYPE=BEHAVIOUR
BFITMP240:CODE={ANNOBJECT16^HIDE();}


OBJECT=BFITMP241
BFITMP241:TYPE=BEHAVIOUR
BFITMP241:CODE={ANNOBJECT23^HIDE();ANNOBJECT24^SHOW();}


OBJECT=BFITMP242
BFITMP242:TYPE=BEHAVIOUR
BFITMP242:CODE={WPATH^SETACTIVE(9000,100,FALSE);ANNOBJECT24^HIDE();}


OBJECT=BFITMP243
BFITMP243:TYPE=BEHAVIOUR
BFITMP243:CODE={ANNOBJECT29^HIDE();ANNOBJECT30^SHOW()}


OBJECT=BFITMP244
BFITMP244:TYPE=BEHAVIOUR
BFITMP244:CODE={ANNOBJECT30^HIDE();}


OBJECT=BFITMP245
BFITMP245:TYPE=BEHAVIOUR
BFITMP245:CODE={ANNOBJECT25^HIDE();ANNOBJECT26^SHOW();}


OBJECT=BFITMP246
BFITMP246:TYPE=BEHAVIOUR
BFITMP246:CODE={ANNOBJECT26^HIDE();}


OBJECT=BFITMP247
BFITMP247:TYPE=BEHAVIOUR
BFITMP247:CODE={ANNOBJECT22^HIDE();}


OBJECT=BFITMP248
BFITMP248:TYPE=BEHAVIOUR
BFITMP248:CODE={ANNOBJECT29^PLAY("STATE0");}


OBJECT=BFITMP249
BFITMP249:TYPE=BEHAVIOUR
BFITMP249:CODE={VARSTEMP0^SET(["$COMMON\DODOS_"+VARSDODOPREFIX+".SAV"]);ARRDODOS^LOAD(VARSTEMP0);BEHPLACEDODOS^RUN();}


OBJECT=BFITMP250
BFITMP250:TYPE=BEHAVIOUR
BFITMP250:CODE={*VARSTEMP0^SETPRIORITY([630+VARITEMP2]);}


OBJECT=BFITMP251
BFITMP251:TYPE=BEHAVIOUR
BFITMP251:CODE={*VARSTEMP0^SETPRIORITY([612+VARITEMP2]);}


OBJECT=BFITMP252
BFITMP252:TYPE=BEHAVIOUR
BFITMP252:CODE={VARITEMP2^SET(*VARSTEMP0^GETCURRFRAMEPOSY());VARITEMP2^ADD(90);*VARSTEMP0^SETPRIORITY(VARITEMP2);}


OBJECT=BFITMP253
BFITMP253:TYPE=BEHAVIOUR
BFITMP253:CODE={ARRDODOS^CHANGEAT(VARITER,-1);*VARSTEMP1^CHANGEAT(VARITEMP2,-2);VARITEMP1^INC();VARSTEMP0^SET(["ANNDODO"+VARITEMP0+"_"+VARITEMP1]);*VARSTEMP0^NPLAY(VARITEMP2);@IF("VARITEMP0","_","2","BFITMP250","");@IF("VARITEMP0","_","1","BFITMP251","");@IF("VARITEMP0","_","0","BFITMP252","");}


OBJECT=BFITMP254
BFITMP254:TYPE=BEHAVIOUR
BFITMP254:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("SKRZYNIA3"));*VARSTEMP0^PLAY("STATE0");}


OBJECT=BFITMP255
BFITMP255:TYPE=BEHAVIOUR
BFITMP255:CODE={BEHSELECTOBJS^RUN("NAKLADKA2");SOBJECT|IPARAM0^SET(1);BEHUPDATEOBJECTS^RUN();VARSTEMP0^SET(BEHGETOBJECT^RUN("NAKLADKA2"));*VARSTEMP0^SHOW();}


OBJECT=BFITMP256
BFITMP256:TYPE=BEHAVIOUR
BFITMP256:CODE={BEHSELECTOBJS^RUN("NAKLADKA2");SOBJECT|IPARAM0^SET(1);BEHUPDATEOBJECTS^RUN();VARSTEMP0^SET(BEHGETOBJECT^RUN("NAKLADKA2"));*VARSTEMP0^SHOW();}


OBJECT=BFITMP257
BFITMP257:TYPE=BEHAVIOUR
BFITMP257:CODE={VARSTEMP0^SET(BEHGETOBJECT^RUN("SKRZYNIA4"));*VARSTEMP0^PLAY("STATE0");}


OBJECT=BFITMP258
BFITMP258:TYPE=BEHAVIOUR
BFITMP258:CODE={SOBJECT|IPARAM0^SET(1);BEHUPDATEOBJECTS^RUN();G_MENU^ADDEXP(30);}


